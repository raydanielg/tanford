import{r as m,u as v,d as L,c as l,a as h,e as i,h as R,w as O,f as e,j as x,t as p,o as r,F as w,l as $,i as z,v as A,n as _}from"./app-Daoq27EY.js";import{_ as B}from"./AuthenticatedLayout-Y2FkiH1C.js";import"./ApplicationLogo-DzKvbPfE.js";import"/tagged_4926563.png";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"space-y-6"},V={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},T={class:"flex items-center gap-3 text-[11px]"},P={class:"px-3 py-2 rounded-2xl bg-emerald-50 text-emerald-700 border border-emerald-100 flex items-center gap-2"},G={class:"font-semibold"},J={class:"bg-white rounded-2xl border border-gray-100 p-5"},q={class:"overflow-x-auto"},H={class:"min-w-full text-xs text-left"},I={class:"py-2.5 px-3 text-[12px] text-gray-900 font-medium"},K={class:"py-2.5 px-3"},Q={class:"h-10 w-28 bg-white border border-gray-100 rounded flex items-center justify-center overflow-hidden"},W=["src","alt"],X={key:1,class:"text-[10px] text-gray-400"},Y={class:"py-2.5 px-3 text-[11px] text-gray-500 whitespace-nowrap"},Z={class:"py-2.5 px-3 text-[11px] text-right"},ee={class:"inline-flex items-center gap-1"},te=["onClick"],se=["onClick"],oe={key:0},le={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},re={class:"bg-white rounded-2xl shadow-xl w-full max-w-md p-5 max-h-[90vh] overflow-y-auto text-xs"},ae={class:"text-sm font-semibold text-gray-900 mb-2"},ne={class:"space-y-3"},de={class:"flex items-center gap-3"},ie={class:"h-10 w-28 bg-white border border-gray-200 rounded flex items-center justify-center overflow-hidden"},ue=["src","alt"],pe={key:1,class:"text-[10px] text-gray-400"},me={class:"inline-flex items-center gap-1 rounded-full bg-white px-3 py-1.5 text-[11px] font-medium text-gray-700 border border-gray-200 cursor-pointer hover:bg-gray-50"},xe={class:"flex justify-end gap-2 mt-5 text-[11px]"},ce=["disabled"],ge={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},be={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},fe={class:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-5"},ye={class:"text-[11px] text-gray-500 mb-4"},ve={class:"font-semibold"},he={class:"flex justify-end gap-2 text-[11px]"},we=["disabled"],_e={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},Ne={__name:"Members",props:{members:{type:Array,default:()=>[]}},setup(b){const k=b,a=m(null),n=m(!1),c=m(!1),g=m(!1),o=v({name:"",logo:null}),u=m(""),C=()=>{a.value=null,o.reset(),u.value="",n.value=!0},M=()=>{o.post(route("admin.members.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{n.value=!1,o.reset(),u.value=""}})},D=d=>{a.value=d,o.name=d.name,o.logo=null,u.value=d.logo_url||"",c.value=!0},j=()=>{a.value&&o.put(route("admin.members.update",a.value.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{c.value=!1}})},f=v({}),N=d=>{a.value=d,g.value=!0},S=()=>{a.value&&f.delete(route("admin.members.destroy",a.value.id),{preserveScroll:!0,onSuccess:()=>{g.value=!1}})},E=L(()=>k.members.length),F=d=>{const t=d.target.files[0];if(!t)return;o.logo=t;const s=new FileReader;s.onload=y=>{u.value=y.target.result},s.readAsDataURL(t)};return(d,t)=>(r(),l(w,null,[h(i(R),{title:"Members"}),h(B,null,{default:O(()=>[e("div",U,[e("div",V,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Member Organizations"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Manage logos and names shown in the OUR MEMBERS section on the homepage.")],-1)),e("div",T,[e("div",P,[t[4]||(t[4]=e("span",{class:"material-icons text-sm"},"groups",-1)),e("span",G,p(E.value),1),t[5]||(t[5]=e("span",{class:"text-emerald-800/80"},"members",-1))]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700",onClick:C},[...t[6]||(t[6]=[e("span",{class:"material-icons text-[13px]"},"add",-1),e("span",null,"New member",-1)])])])]),e("div",J,[t[12]||(t[12]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-sm font-semibold text-gray-900"},"All members"),e("p",{class:"text-[11px] text-gray-500"},"These logos appear in the OUR MEMBERS section on the homepage.")],-1)),e("div",q,[e("table",H,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"border-b border-gray-100 text-[11px] text-gray-500"},[e("th",{class:"py-2 px-3 font-medium"},"Name"),e("th",{class:"py-2 px-3 font-medium"},"Logo"),e("th",{class:"py-2 px-3 font-medium"},"Created"),e("th",{class:"py-2 px-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(r(!0),l(w,null,$(b.members,s=>(r(),l("tr",{key:s.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[e("td",I,p(s.name),1),e("td",K,[e("div",Q,[s.logo_url?(r(),l("img",{key:0,src:s.logo_url,alt:s.name,class:"max-h-8 max-w-full object-contain"},null,8,W)):(r(),l("span",X,"No logo"))])]),e("td",Y,p(new Date(s.created_at).toLocaleDateString()),1),e("td",Z,[e("div",ee,[e("button",{class:"px-2 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-100 flex items-center gap-1",onClick:y=>D(s)},[...t[8]||(t[8]=[e("span",{class:"material-icons text-[12px]"},"edit",-1),e("span",null,"Edit",-1)])],8,te),e("button",{class:"px-2 py-1 rounded-full bg-red-50 border border-red-100 text-red-600 hover:bg-red-100 flex items-center gap-1",onClick:y=>N(s)},[...t[9]||(t[9]=[e("span",{class:"material-icons text-[12px]"},"delete",-1),e("span",null,"Delete",-1)])],8,se)])])]))),128)),b.members.length?x("",!0):(r(),l("tr",oe,[...t[10]||(t[10]=[e("td",{colspan:"4",class:"py-6 text-center text-[11px] text-gray-500"}," No members found. ",-1)])]))])])])]),n.value||c.value?(r(),l("div",le,[e("div",re,[e("h3",ae,p(n.value?"Create member":"Edit member"),1),t[18]||(t[18]=e("p",{class:"text-[11px] text-gray-500 mb-4"}," Control the organizations that appear in the homepage members grid. ",-1)),e("div",ne,[e("div",null,[t[13]||(t[13]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Name",-1)),z(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i(o).name=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[A,i(o).name]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Logo image",-1)),e("div",de,[e("div",ie,[u.value?(r(),l("img",{key:0,src:u.value,alt:i(o).name||"Logo preview",class:"max-h-8 max-w-full object-contain"},null,8,ue)):(r(),l("span",pe,"No logo selected"))]),e("label",me,[t[14]||(t[14]=e("span",{class:"material-icons text-[14px]"},"upload",-1)),t[15]||(t[15]=e("span",null,"Upload logo",-1)),e("input",{type:"file",accept:"image/*",class:"hidden",onChange:F},null,32)])]),t[17]||(t[17]=e("p",{class:"mt-1 text-[10px] text-gray-400"},"Recommended: small horizontal logo, PNG/JPG.",-1))])]),e("div",xe,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[1]||(t[1]=s=>n.value?n.value=!1:c.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:i(o).processing,onClick:t[2]||(t[2]=s=>n.value?M():j())},[i(o).processing?(r(),l("span",ge)):x("",!0),e("span",null,p(n.value?"Create member":"Save changes"),1)],8,ce)])])])):x("",!0),g.value&&a.value?(r(),l("div",be,[e("div",fe,[t[22]||(t[22]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Delete member",-1)),e("p",ye,[t[19]||(t[19]=_(" Are you sure you want to permanently delete ",-1)),e("span",ve,p(a.value.name),1),t[20]||(t[20]=_("? This action cannot be undone. ",-1))]),e("div",he,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[3]||(t[3]=s=>g.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-red-600 text-white text-xs font-semibold hover:bg-red-700 flex items-center gap-2",type:"button",disabled:i(f).processing,onClick:S},[i(f).processing?(r(),l("span",_e)):x("",!0),t[21]||(t[21]=e("span",null,"Delete",-1))],8,we)])])])):x("",!0)])]),_:1})],64))}};export{Ne as default};

import{_ as h}from"./AuthenticatedLayout-D9qhIwTl.js";import{r as v,d as _,p as k,w as m,a as c,f as t,e as y,h as w,n as C,t as r,c as i,j as S,o as d,F,l as j,s as E,q as N,x as $}from"./app-CmWu1J6D.js";import"./ApplicationLogo-CEiKg_9l.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-6"},B={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},P={class:"text-[11px] text-gray-500"},V={class:"font-semibold text-emerald-700"},z={class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs overflow-x-auto"},D={class:"flex items-center justify-between mb-3"},L={class:"flex items-center gap-2"},R=["disabled"],T=["disabled"],q={class:"min-w-full text-left"},G={class:"border-b border-gray-100 text-[11px] text-gray-500"},I={class:"py-2 px-3 font-medium w-8"},O=["checked"],U={class:"py-2 px-3 text-[11px] text-gray-700"},H=["value","checked","onChange"],J={class:"py-2 px-3 text-[11px] text-gray-700"},K={class:"py-2 px-3 text-[11px] text-gray-900"},M={class:"py-2 px-3 text-[11px] text-emerald-700"},Q={class:"py-2 px-3 text-[11px] text-gray-700"},W={class:"py-2 px-3 text-[11px] text-gray-700"},X={class:"py-2 px-3 text-[11px] text-gray-700"},Y={class:"py-2 px-3 text-[11px] text-gray-700"},Z={class:"py-2 px-3 text-[11px] text-gray-700"},tt={class:"py-2 px-3 text-[11px]"},et={class:"py-2 px-3 text-[11px] text-gray-500"},st={class:"py-2 px-3 text-[11px] text-right"},ot={class:"flex flex-col items-end gap-1"},at={class:"flex gap-1"},rt=["disabled","onClick"],lt=["disabled","onClick"],nt={key:0},ut={__name:"ForumRegistrations",props:{registrations:{type:Array,default:()=>[]}},setup(f){const l=f,p=(a,e)=>{!e||a.status===e||$.post(route("admin.forum-registrations.update-status",a.id),{status:e},{preserveScroll:!0,preserveState:!0})},o=v([]),x=_(()=>l.registrations.length?o.value.length===l.registrations.length:!1),g=()=>{x.value?o.value=[]:o.value=l.registrations.map(a=>a.id)},b=a=>{o.value.includes(a)?o.value=o.value.filter(e=>e!==a):o.value.push(a)},u=a=>{if(!o.value.length)return;const e=new URLSearchParams;o.value.forEach(n=>e.append("ids[]",n)),e.append("format",a);const s=route("admin.forum-registrations.export")+"?"+e.toString();window.location.href=s};return(a,e)=>(d(),k(h,null,{default:m(()=>[c(y(w),{title:"Forum registrations"}),t("div",A,[t("div",B,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-lg font-semibold text-gray-900"},"Forum registrations"),t("p",{class:"text-[11px] text-gray-500 mt-1"}," Submissions from the Tanzania Global Logistics Forum registration form. ")],-1)),t("div",P,[t("span",V,r(l.registrations.length),1),e[2]||(e[2]=C(" registrations ",-1))])]),t("div",z,[t("div",D,[e[6]||(e[6]=t("p",{class:"text-[11px] text-gray-500"}," Select registrations then export as PDF or Excel. ",-1)),t("div",L,[t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1.5 text-[11px] font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-default",disabled:!o.value.length,onClick:e[0]||(e[0]=s=>u("excel"))},[...e[4]||(e[4]=[t("span",{class:"material-icons text-[14px] text-emerald-600"},"grid_on",-1),t("span",null,"Export Excel",-1)])],8,R),t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1.5 text-[11px] font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-default",disabled:!o.value.length,onClick:e[1]||(e[1]=s=>u("pdf"))},[...e[5]||(e[5]=[t("span",{class:"material-icons text-[14px] text-rose-500"},"picture_as_pdf",-1),t("span",null,"Export PDF",-1)])],8,T)])]),t("table",q,[t("thead",null,[t("tr",G,[t("th",I,[t("input",{type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-emerald-600",checked:x.value,onChange:g},null,40,O)]),e[7]||(e[7]=t("th",{class:"py-2 px-3 font-medium"},"Forum",-1)),e[8]||(e[8]=t("th",{class:"py-2 px-3 font-medium"},"Name",-1)),e[9]||(e[9]=t("th",{class:"py-2 px-3 font-medium"},"Email",-1)),e[10]||(e[10]=t("th",{class:"py-2 px-3 font-medium"},"Phone",-1)),e[11]||(e[11]=t("th",{class:"py-2 px-3 font-medium"},"Organization",-1)),e[12]||(e[12]=t("th",{class:"py-2 px-3 font-medium"},"Attendee type",-1)),e[13]||(e[13]=t("th",{class:"py-2 px-3 font-medium"},"Booth",-1)),e[14]||(e[14]=t("th",{class:"py-2 px-3 font-medium"},"Package",-1)),e[15]||(e[15]=t("th",{class:"py-2 px-3 font-medium"},"Status",-1)),e[16]||(e[16]=t("th",{class:"py-2 px-3 font-medium"},"Created",-1)),e[17]||(e[17]=t("th",{class:"py-2 px-3 font-medium text-right"},"Actions",-1))])]),t("tbody",null,[(d(!0),i(F,null,j(l.registrations,s=>(d(),i("tr",{key:s.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[t("td",U,[t("input",{type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-emerald-600",value:s.id,checked:o.value.includes(s.id),onChange:n=>b(s.id)},null,40,H)]),t("td",J,r(s.forum_name),1),t("td",K,r(s.name),1),t("td",M,r(s.email),1),t("td",Q,r(s.phone||"-"),1),t("td",W,r(s.organization||"-"),1),t("td",X,r(s.attendee_type||"-"),1),t("td",Y,r(s.booth||"-"),1),t("td",Z,r(s.sponsorship_package||"-"),1),t("td",tt,[t("span",{class:E(["inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium",{"bg-yellow-100 text-yellow-800":!s.status||s.status==="pending","bg-emerald-100 text-emerald-800":s.status==="approved","bg-rose-100 text-rose-800":s.status==="rejected"}])},r(s.status||"pending"),3)]),t("td",et,r(new Date(s.created_at).toLocaleString()),1),t("td",st,[t("div",ot,[c(y(N),{href:a.route("admin.forum-registrations.show",s.id),class:"inline-flex items-center gap-1 rounded-full border border-emerald-200 px-3 py-1 text-[11px] font-medium text-emerald-800 bg-emerald-50 hover:bg-emerald-100 hover:border-emerald-300 transition"},{default:m(()=>[...e[18]||(e[18]=[t("span",{class:"material-icons text-[14px]"},"visibility",-1),t("span",null,"View",-1)])]),_:1},8,["href"]),t("div",at,[t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[10px] border border-emerald-200 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 disabled:opacity-60 disabled:cursor-default",disabled:s.status==="approved",onClick:n=>p(s,"approved")},[...e[19]||(e[19]=[t("span",{class:"material-icons text-[13px]"},"check_circle",-1),t("span",null,"Approve",-1)])],8,rt),t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[10px] border border-rose-200 text-rose-700 bg-rose-50 hover:bg-rose-100 disabled:opacity-60 disabled:cursor-default",disabled:s.status==="rejected",onClick:n=>p(s,"rejected")},[...e[20]||(e[20]=[t("span",{class:"material-icons text-[13px]"},"cancel",-1),t("span",null,"Reject",-1)])],8,lt)])])])]))),128)),l.registrations.length?S("",!0):(d(),i("tr",nt,[...e[21]||(e[21]=[t("td",{colspan:"12",class:"py-6 text-center text-[11px] text-gray-500"},"No registrations yet.",-1)])]))])])])])]),_:1}))}};export{ut as default};

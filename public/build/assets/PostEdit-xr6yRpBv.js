import{u as _,d as k,c as o,a as u,e as s,h as w,w as y,f as e,q as c,s as h,o as a,t as p,i as x,j as i,v as g,y as C,F as j}from"./app-CbLa63mq.js";import{_ as B}from"./AuthenticatedLayout-CWYJ5Ur-.js";import{Q as U}from"./vue-quill.snow-CWoDp8KR.js";import"./ApplicationLogo-D0OWAt8k.js";import"/tagged_4926563.png";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"space-y-6"},E={class:"flex items-center justify-between gap-4"},P={class:"flex items-center gap-3"},F={class:"flex items-center gap-2 text-[11px]"},M={key:0,class:"material-icons text-[12px]"},S={key:1,class:"material-icons text-[12px]"},D={class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs"},L={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},N={class:"space-y-3 lg:col-span-2"},T={key:0,class:"mt-1 text-[10px] text-red-600"},q={class:"grid grid-cols-2 gap-3"},O={key:0,class:"mt-1 text-[10px] text-red-600"},Q={class:"space-y-4"},R={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60"},$={key:0,class:"mt-1 text-[10px] text-red-600"},z={key:1,class:"mt-2 flex items-center gap-2"},A={class:"h-12 w-20 rounded border border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center"},H=["src"],G=["src"],I={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60 space-y-3"},J={key:0,class:"mt-1 text-[10px] text-red-600"},K={key:0,class:"mt-1 text-[10px] text-red-600"},W={key:0,class:"mt-1 text-[10px] text-red-600"},X={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60 flex items-center justify-between"},Y={class:"flex items-center gap-2 text-[11px] text-gray-700"},Z={class:"flex justify-end gap-2 mt-5 text-[11px]"},ee=["disabled"],te={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},ie={__name:"PostEdit",props:{post:{type:Object,required:!0}},setup(f){const d=f,l=_({title:d.post.title||"",category:d.post.category||"",author_name:d.post.author_name||"",image_url:d.post.image_url||"",image:null,body_image:null,body_audio:null,body_video:null,excerpt:d.post.excerpt||"",body:d.post.body||"",published:!!d.post.published_at}),b=k(()=>!!d.post.published_at),v=()=>{l.post(route("admin.posts.update",d.post.id),{preserveScroll:!0,onSuccess:()=>{}})};return(m,t)=>(a(),o(j,null,[u(s(w),{title:`Edit Post - ${d.post.title}`},null,8,["title"]),u(B,null,{default:y(()=>[e("div",V,[e("div",E,[e("div",P,[u(s(c),{href:m.route("admin.posts.index"),class:"inline-flex items-center gap-1 rounded-full bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 border border-gray-200 hover:bg-gray-100"},{default:y(()=>[...t[10]||(t[10]=[e("span",{class:"material-icons text-[14px]"},"arrow_back",-1),e("span",null,"Back to posts",-1)])]),_:1},8,["href"]),t[11]||(t[11]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Edit post"),e("p",{class:"text-[11px] text-gray-500 mt-0.5"}," Update content and publishing status for this blog post. ")],-1))]),e("div",F,[e("span",{class:h(["inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",b.value?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-gray-50 text-gray-600 border border-gray-200"])},[b.value?(a(),o("span",M,"visibility")):(a(),o("span",S,"draft")),e("span",null,p(b.value?"Published":"Draft"),1)],2)])]),e("div",D,[e("div",L,[e("div",N,[e("div",null,[t[12]||(t[12]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Title",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s(l).title=r),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[g,s(l).title]]),s(l).errors.title?(a(),o("p",T,p(s(l).errors.title),1)):i("",!0)]),e("div",q,[e("div",null,[t[13]||(t[13]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Category",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s(l).category=r),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[g,s(l).category]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Author",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(l).author_name=r),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[g,s(l).author_name]])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Excerpt",-1)),x(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=r=>s(l).excerpt=r),rows:"3",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[g,s(l).excerpt]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body (rich text)",-1)),u(s(U),{content:s(l).body,"onUpdate:content":t[4]||(t[4]=r=>s(l).body=r),"content-type":"html",theme:"snow",class:"bg-white border border-gray-300 rounded-lg min-h-[260px] text-xs"},null,8,["content"]),t[17]||(t[17]=e("p",{class:"mt-1 text-[10px] text-gray-400"}," Format text, add lists, headings, links and more. Content is saved as HTML. ",-1)),s(l).errors.body?(a(),o("p",O,p(s(l).errors.body),1)):i("",!0)])]),e("div",Q,[e("div",R,[t[19]||(t[19]=e("h3",{class:"text-[11px] font-semibold text-gray-800 mb-2"},"Featured image",-1)),e("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:t[5]||(t[5]=r=>{const n=r.target.files?.[0]??null;s(l).image=n})},null,32),s(l).errors.image?(a(),o("p",$,p(s(l).errors.image),1)):i("",!0),s(l).image||s(l).image_url?(a(),o("div",z,[t[18]||(t[18]=e("span",{class:"text-[10px] text-gray-500"},"Preview:",-1)),e("div",A,[s(l).image?(a(),o("img",{key:0,src:m.URL.createObjectURL(s(l).image),alt:"Preview",class:"h-full w-full object-cover"},null,8,H)):s(l).image_url?(a(),o("img",{key:1,src:s(l).image_url,alt:"Current image",class:"h-full w-full object-cover"},null,8,G)):i("",!0)])])):i("",!0)]),e("div",I,[t[23]||(t[23]=e("h3",{class:"text-[11px] font-semibold text-gray-800"},"Body media",-1)),e("div",null,[t[20]||(t[20]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body image (optional)",-1)),e("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:t[6]||(t[6]=r=>{const n=r.target.files?.[0]??null;s(l).body_image=n})},null,32),s(l).errors.body_image?(a(),o("p",J,p(s(l).errors.body_image),1)):i("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body audio (mp3/wav)",-1)),e("input",{type:"file",accept:"audio/*",class:"w-full text-[11px] text-gray-600",onChange:t[7]||(t[7]=r=>{const n=r.target.files?.[0]??null;s(l).body_audio=n})},null,32),s(l).errors.body_audio?(a(),o("p",K,p(s(l).errors.body_audio),1)):i("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body video (mp4/webm)",-1)),e("input",{type:"file",accept:"video/*",class:"w-full text-[11px] text-gray-600",onChange:t[8]||(t[8]=r=>{const n=r.target.files?.[0]??null;s(l).body_video=n})},null,32),s(l).errors.body_video?(a(),o("p",W,p(s(l).errors.body_video),1)):i("",!0)])]),e("div",X,[e("label",Y,[x(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>s(l).published=r),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[C,s(l).published]]),t[24]||(t[24]=e("span",null,"Mark as published (visible on site)",-1))])])])]),e("div",Z,[u(s(c),{href:m.route("admin.posts.index"),class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100 inline-flex items-center gap-1"},{default:y(()=>[...t[25]||(t[25]=[e("span",{class:"material-icons text-[13px]"},"close",-1),e("span",null,"Cancel",-1)])]),_:1},8,["href"]),e("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:s(l).processing,onClick:v},[s(l).processing?(a(),o("span",te)):i("",!0),t[26]||(t[26]=e("span",null,"Save changes",-1))],8,ee)])])])]),_:1})],64))}};export{ie as default};

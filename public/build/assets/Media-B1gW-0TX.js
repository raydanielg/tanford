import{k as S,d as f,r as b,u as v,c as l,a as h,e as a,h as T,w as V,f as e,j as n,o,t as d,F as w,l as U,i as A,v as $,n as _}from"./app-CbLa63mq.js";import{_ as z}from"./AuthenticatedLayout-CWYJ5Ur-.js";import"./ApplicationLogo-D0OWAt8k.js";import"/tagged_4926563.png";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},G={key:0,class:"fixed top-16 right-6 z-50 max-w-xs bg-red-50 border border-red-200 text-red-800 text-[11px] rounded-xl shadow-sm px-3 py-2 flex items-start gap-2"},E={class:"text-[10px] leading-snug"},L={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},O={class:"flex items-center gap-3 text-[11px]"},P={class:"px-3 py-2 rounded-2xl bg-emerald-50 text-emerald-700 border border-emerald-100 flex items-center gap-2"},I={class:"font-semibold"},q={class:"bg-white rounded-2xl border border-gray-100 p-5"},H={class:"overflow-x-auto"},J={class:"min-w-full text-xs text-left"},K={class:"py-2.5 px-3"},Q={class:"h-12 w-20 bg-gray-50 border border-gray-100 rounded overflow-hidden flex items-center justify-center"},R=["src","alt"],W={key:1,class:"flex items-center justify-center text-[9px] text-gray-500 flex-col"},X={key:2,class:"text-[9px] text-gray-400"},Y={class:"py-2.5 px-3 text-[11px] text-gray-900"},Z={class:"py-2.5 px-3 text-[11px] text-gray-600"},ee={class:"py-2.5 px-3 text-[11px] text-gray-500 whitespace-nowrap"},te={class:"py-2.5 px-3 text-[11px] text-right"},se=["onClick"],le={key:0},oe={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},re={class:"bg-white rounded-2xl shadow-xl w-full max-w-md p-5 max-h-[90vh] overflow-y-auto text-xs"},ae={class:"space-y-3"},ne={key:0,class:"mt-1 text-[10px] text-red-600"},de={key:0,class:"mt-1 text-[10px] text-red-600"},ie={class:"flex justify-end gap-2 mt-5 text-[11px]"},pe=["disabled"],xe={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},ue={key:2,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},me={class:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-5"},ce={class:"text-[11px] text-gray-500 mb-4"},be={class:"font-semibold"},ye={class:"flex justify-end gap-2 text-[11px]"},ge=["disabled"],fe={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},Ce={__name:"Media",props:{items:{type:Array,default:()=>[]}},setup(u){const k=u,C=S(),y=f(()=>(C.props.errors||{}).media||null),p=b(!1),i=b(null),x=b(!1),r=v({title:"",description:"",file:null}),j=()=>{r.reset(),r.file=null,p.value=!0},M=()=>{r.post(route("admin.media.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!1,r.reset()}})},m=v({}),D=c=>{i.value=c,x.value=!0},F=()=>{i.value&&m.post(route("admin.media.destroy",i.value.id),{preserveScroll:!0,onSuccess:()=>{x.value=!1}})},N=f(()=>k.items.length);return(c,t)=>(o(),l(w,null,[h(a(T),{title:"Media Gallery"}),h(z,null,{default:V(()=>[e("div",B,[y.value?(o(),l("div",G,[t[5]||(t[5]=e("span",{class:"material-icons text-[14px] mt-[1px]"},"error_outline",-1)),e("div",null,[t[4]||(t[4]=e("p",{class:"font-semibold mb-0.5"},"Action failed",-1)),e("p",E,d(y.value),1)])])):n("",!0),e("div",L,[t[9]||(t[9]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Media Gallery"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Upload images and videos for the public gallery.")],-1)),e("div",O,[e("div",P,[t[6]||(t[6]=e("span",{class:"material-icons text-sm"},"collections",-1)),e("span",I,d(N.value),1),t[7]||(t[7]=e("span",{class:"text-emerald-800/80"},"items",-1))]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700",onClick:j},[...t[8]||(t[8]=[e("span",{class:"material-icons text-[13px]"},"add",-1),e("span",null,"New media",-1)])])])]),e("div",q,[t[14]||(t[14]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-sm font-semibold text-gray-900"},"Gallery items"),e("p",{class:"text-[11px] text-gray-500"},"Manage images and videos shown on the gallery page.")],-1)),e("div",H,[e("table",J,[t[13]||(t[13]=e("thead",null,[e("tr",{class:"border-b border-gray-100 text-[11px] text-gray-500"},[e("th",{class:"py-2 px-3 font-medium"},"Preview"),e("th",{class:"py-2 px-3 font-medium"},"Title"),e("th",{class:"py-2 px-3 font-medium"},"Type"),e("th",{class:"py-2 px-3 font-medium"},"Created"),e("th",{class:"py-2 px-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(o(!0),l(w,null,U(u.items,s=>(o(),l("tr",{key:s.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[e("td",K,[e("div",Q,[s.type==="image"?(o(),l("img",{key:0,src:s.file_url,alt:s.title,class:"h-full w-full object-cover"},null,8,R)):s.type==="video"?(o(),l("div",W,[...t[10]||(t[10]=[e("span",{class:"material-icons text-base mb-0.5"},"videocam",-1),e("span",null,"Video",-1)])])):(o(),l("span",X,"File"))])]),e("td",Y,d(s.title),1),e("td",Z,d(s.type),1),e("td",ee,d(new Date(s.created_at).toLocaleDateString()),1),e("td",te,[e("button",{class:"px-2 py-1 rounded-full bg-red-50 border border-red-100 text-red-600 hover:bg-red-100 flex items-center gap-1 ml-auto",onClick:g=>D(s)},[...t[11]||(t[11]=[e("span",{class:"material-icons text-[12px]"},"delete",-1),e("span",null,"Delete",-1)])],8,se)])]))),128)),u.items.length?n("",!0):(o(),l("tr",le,[...t[12]||(t[12]=[e("td",{colspan:"5",class:"py-6 text-center text-[11px] text-gray-500"}," No media items found. ",-1)])]))])])])]),p.value?(o(),l("div",oe,[e("div",re,[t[18]||(t[18]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Upload media",-1)),t[19]||(t[19]=e("p",{class:"text-[11px] text-gray-500 mb-4"}," Upload an image or video file for the public gallery. ",-1)),e("div",ae,[e("div",null,[t[15]||(t[15]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Title",-1)),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a(r).title=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[$,a(r).title]]),a(r).errors.title?(o(),l("p",ne,d(a(r).errors.title),1)):n("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"File (image or video)",-1)),e("input",{type:"file",accept:"image/*,video/*",class:"w-full text-[11px] text-gray-600",onChange:t[1]||(t[1]=s=>{const g=s.target.files?.[0]??null;a(r).file=g})},null,32),a(r).errors.file?(o(),l("p",de,d(a(r).errors.file),1)):n("",!0)])]),e("div",ie,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[2]||(t[2]=s=>p.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:a(r).processing,onClick:M},[a(r).processing?(o(),l("span",xe)):n("",!0),t[17]||(t[17]=e("span",null,"Upload",-1))],8,pe)])])])):n("",!0),x.value&&i.value?(o(),l("div",ue,[e("div",me,[t[23]||(t[23]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Delete media",-1)),e("p",ce,[t[20]||(t[20]=_(" Are you sure you want to permanently delete ",-1)),e("span",be,d(i.value.title),1),t[21]||(t[21]=_("? This action cannot be undone. ",-1))]),e("div",ye,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[3]||(t[3]=s=>x.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-red-600 text-white text-xs font-semibold hover:bg-red-700 flex items-center gap-2",type:"button",disabled:a(m).processing,onClick:F},[a(m).processing?(o(),l("span",fe)):n("",!0),t[22]||(t[22]=e("span",null,"Delete",-1))],8,ge)])])])):n("",!0)])]),_:1})],64))}};export{Ce as default};

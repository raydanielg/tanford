import{u as c,p as f,w as y,a as w,f as e,e as r,h as _,g as v,i as a,y as m,v as p,c as k,j as h,o as g}from"./app-DH_IQWaf.js";import{_ as V}from"./AuthenticatedLayout-BKN0BniS.js";import"./ApplicationLogo-DhczJS8o.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"space-y-6 max-w-3xl"},j={class:"flex items-center justify-between"},A={class:"inline-flex items-center gap-2 text-[12px] text-gray-700"},U={class:"grid sm:grid-cols-2 gap-4"},B={class:"flex items-center justify-between border-t border-gray-100 pt-4"},M={class:"inline-flex items-center gap-2 text-[12px] text-gray-700"},C={class:"border-t border-gray-100 pt-4 flex items-center justify-end"},F=["disabled"],N={key:0,class:"inline-flex h-4 w-4 border-2 border-white/40 border-t-white rounded-full animate-spin"},O={__name:"Security",props:{settings:{type:Object,default:()=>null}},setup(x){var n,i,d,u;const o=x,s=c({allow_registration:((n=o.settings)==null?void 0:n.allow_registration)??!0,password_min_length:((i=o.settings)==null?void 0:i.password_min_length)??8,login_rate_limit:((d=o.settings)==null?void 0:d.login_rate_limit)??5,two_factor_enabled:((u=o.settings)==null?void 0:u.two_factor_enabled)??!1}),b=()=>{s.post(route("admin.settings.security.update"),{preserveScroll:!0})};return(E,t)=>(g(),f(V,null,{default:y(()=>[w(r(_),{title:"Security settings"}),e("div",S,[t[12]||(t[12]=e("div",{class:"bg-white rounded-2xl border border-gray-100 p-5"},[e("h1",{class:"text-lg font-semibold text-gray-900"},"Security"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Authentication and security-related options.")],-1)),e("form",{onSubmit:v(b,["prevent"]),class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs space-y-6"},[e("div",j,[t[5]||(t[5]=e("div",null,[e("h2",{class:"text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-1"}," User registration "),e("p",{class:"text-[11px] text-gray-500"},"Allow new users to create accounts.")],-1)),e("label",A,[a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r(s).allow_registration=l),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[m,r(s).allow_registration]]),t[4]||(t[4]=e("span",null,"Allow registration",-1))])]),e("div",U,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Password min length",-1)),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r(s).password_min_length=l),type:"number",min:"6",max:"64",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500"},null,512),[[p,r(s).password_min_length,void 0,{number:!0}]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Login attempts limit",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>r(s).login_rate_limit=l),type:"number",min:"1",max:"100",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500"},null,512),[[p,r(s).login_rate_limit,void 0,{number:!0}]]),t[8]||(t[8]=e("p",{class:"mt-1 text-[10px] text-gray-400"},"Max failed attempts before temporary lockout.",-1))])]),e("div",B,[t[10]||(t[10]=e("div",null,[e("h2",{class:"text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-1"},"Two-factor auth"),e("p",{class:"text-[11px] text-gray-500"},"Enable 2FA enforcement (implementation can follow later).")],-1)),e("label",M,[a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>r(s).two_factor_enabled=l),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[m,r(s).two_factor_enabled]]),t[9]||(t[9]=e("span",null,"Require 2FA",-1))])]),e("div",C,[e("button",{type:"submit",class:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700 disabled:bg-emerald-400 disabled:cursor-not-allowed",disabled:r(s).processing},[r(s).processing?(g(),k("span",N)):h("",!0),t[11]||(t[11]=e("span",null,"Save changes",-1))],8,F)])],32)])]),_:1}))}};export{O as default};

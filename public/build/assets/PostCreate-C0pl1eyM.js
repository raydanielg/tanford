import{u as f,c as o,a as p,e as s,h as c,w as g,f as t,j as a,o as d,q as m,i as x,v as u,t as n,y as v,F as w}from"./app-lIrt8iGD.js";import{_ as k}from"./AuthenticatedLayout-CuBoH9O4.js";import{Q as _}from"./vue-quill.snow-Dc70PL_4.js";import"./ApplicationLogo-BgvaR_Dr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"space-y-6 relative"},h={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-white/70"},B={class:"flex items-center justify-between gap-4"},V={class:"flex items-center gap-3"},U={class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs"},j={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},F={class:"space-y-3 lg:col-span-2"},M={key:0,class:"mt-1 text-[10px] text-red-600"},E={class:"grid grid-cols-2 gap-3"},N={key:0,class:"mt-1 text-[10px] text-red-600"},S={class:"space-y-4"},T={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60"},D={key:0,class:"mt-1 text-[10px] text-red-600"},P={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60 space-y-3"},Q={key:0,class:"mt-1 text-[10px] text-red-600"},q={key:0,class:"mt-1 text-[10px] text-red-600"},z={key:0,class:"mt-1 text-[10px] text-red-600"},A={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60 flex items-center justify-between"},H={class:"flex items-center gap-2 text-[11px] text-gray-700"},L={class:"flex justify-end gap-2 mt-5 text-[11px]"},W=["disabled"],$={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},X={__name:"PostCreate",setup(G){const r=f({title:"",category:"",author_name:"",image_url:"",image:null,body_image:null,body_audio:null,body_video:null,excerpt:"",body:"",published:!1}),y=()=>{r.post(route("admin.posts.store"),{preserveScroll:!0,onSuccess:()=>{r.reset()}})};return(b,e)=>(d(),o(w,null,[p(s(c),{title:"Create Post"}),p(k,null,{default:g(()=>[t("div",C,[s(r).processing?(d(),o("div",h,[...e[10]||(e[10]=[t("div",{class:"flex flex-col items-center gap-2 text-xs text-gray-700"},[t("div",{class:"w-6 h-6 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"}),t("p",{class:"text-[11px]"},"Uploading / saving post, please wait...")],-1)])])):a("",!0),t("div",B,[t("div",V,[p(s(m),{href:b.route("admin.posts.index"),class:"inline-flex items-center gap-1 rounded-full bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 border border-gray-200 hover:bg-gray-100"},{default:g(()=>[...e[11]||(e[11]=[t("span",{class:"material-icons text-[14px]"},"arrow_back",-1),t("span",null,"Back to posts",-1)])]),_:1},8,["href"]),e[12]||(e[12]=t("div",null,[t("h1",{class:"text-lg font-semibold text-gray-900"},"Create new post"),t("p",{class:"text-[11px] text-gray-500 mt-0.5"}," Write a new article for the public blog. ")],-1))])]),t("div",U,[t("div",j,[t("div",F,[t("div",null,[e[13]||(e[13]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Title",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(r).title=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).title]]),s(r).errors.title?(d(),o("p",M,n(s(r).errors.title),1)):a("",!0)]),t("div",E,[t("div",null,[e[14]||(e[14]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Category",-1)),x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(r).category=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).category]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Author",-1)),x(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(r).author_name=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).author_name]])])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Excerpt",-1)),x(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(r).excerpt=l),rows:"3",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).excerpt]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body (rich text)",-1)),p(s(_),{content:s(r).body,"onUpdate:content":e[4]||(e[4]=l=>s(r).body=l),"content-type":"html",theme:"snow",class:"bg-white border border-gray-300 rounded-lg min-h-[260px] text-xs"},null,8,["content"]),e[18]||(e[18]=t("p",{class:"mt-1 text-[10px] text-gray-400"}," Format text, add lists, headings, links and more. Content is saved as HTML. ",-1)),s(r).errors.body?(d(),o("p",N,n(s(r).errors.body),1)):a("",!0)])]),t("div",S,[t("div",T,[e[19]||(e[19]=t("h3",{class:"text-[11px] font-semibold text-gray-800 mb-2"},"Featured image",-1)),t("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:e[5]||(e[5]=l=>{const i=l.target.files?.[0]??null;s(r).image=i})},null,32),s(r).errors.image?(d(),o("p",D,n(s(r).errors.image),1)):a("",!0)]),t("div",P,[e[23]||(e[23]=t("h3",{class:"text-[11px] font-semibold text-gray-800"},"Body media",-1)),t("div",null,[e[20]||(e[20]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body image (optional)",-1)),t("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:e[6]||(e[6]=l=>{const i=l.target.files?.[0]??null;s(r).body_image=i})},null,32),s(r).errors.body_image?(d(),o("p",Q,n(s(r).errors.body_image),1)):a("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body audio (mp3/wav)",-1)),t("input",{type:"file",accept:"audio/*",class:"w-full text-[11px] text-gray-600",onChange:e[7]||(e[7]=l=>{const i=l.target.files?.[0]??null;s(r).body_audio=i})},null,32),s(r).errors.body_audio?(d(),o("p",q,n(s(r).errors.body_audio),1)):a("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body video (mp4/webm)",-1)),t("input",{type:"file",accept:"video/*",class:"w-full text-[11px] text-gray-600",onChange:e[8]||(e[8]=l=>{const i=l.target.files?.[0]??null;s(r).body_video=i})},null,32),s(r).errors.body_video?(d(),o("p",z,n(s(r).errors.body_video),1)):a("",!0)])]),t("div",A,[t("label",H,[x(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>s(r).published=l),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[v,s(r).published]]),e[24]||(e[24]=t("span",null,"Mark as published (visible on site)",-1))])])])]),t("div",L,[p(s(m),{href:b.route("admin.posts.index"),class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100 inline-flex items-center gap-1"},{default:g(()=>[...e[25]||(e[25]=[t("span",{class:"material-icons text-[13px]"},"close",-1),t("span",null,"Cancel",-1)])]),_:1},8,["href"]),t("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:s(r).processing,onClick:y},[s(r).processing?(d(),o("span",$)):a("",!0),e[26]||(e[26]=t("span",null,"Create post",-1))],8,W)])])])]),_:1})],64))}};export{X as default};

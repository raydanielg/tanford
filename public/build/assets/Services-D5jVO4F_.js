import{k as A,d as w,r as m,u as k,c as o,a as C,e as r,h as L,w as O,f as e,j as d,o as a,t as u,F as S,l as z,i as f,v,n as j}from"./app-DH_IQWaf.js";import{_ as B}from"./AuthenticatedLayout-BKN0BniS.js";import"./ApplicationLogo-DhczJS8o.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"space-y-6"},I={key:0,class:"fixed top-16 right-6 z-50 max-w-xs bg-red-50 border border-red-200 text-red-800 text-[11px] rounded-xl shadow-sm px-3 py-2 flex items-start gap-2"},R={class:"text-[10px] leading-snug"},q={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},G={class:"flex items-center gap-3 text-[11px]"},H={class:"px-3 py-2 rounded-2xl bg-emerald-50 text-emerald-700 border border-emerald-100 flex items-center gap-2"},J={class:"font-semibold"},K={class:"bg-white rounded-2xl border border-gray-100 p-5"},Q={class:"overflow-x-auto"},W={class:"min-w-full text-xs text-left"},X={class:"py-2.5 px-3 text-[11px] text-gray-900 font-medium"},Y={class:"py-2.5 px-3 text-[11px] text-gray-600 max-w-xs"},Z={class:"line-clamp-2"},ee={class:"py-2.5 px-3"},te={class:"h-10 w-16 bg-gray-50 border border-gray-100 rounded overflow-hidden flex items-center justify-center"},se=["src","alt"],le={key:1,class:"text-[9px] text-gray-400"},re={class:"py-2.5 px-3 text-[11px] text-gray-500 whitespace-nowrap"},oe={class:"py-2.5 px-3 text-[11px] text-right"},ae={class:"inline-flex items-center gap-1"},ne=["onClick"],ie=["onClick"],de={key:0},ue={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},pe={class:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-5 max-h-[90vh] overflow-y-auto text-xs"},xe={class:"text-sm font-semibold text-gray-900 mb-2"},ce={class:"space-y-3"},me={key:0,class:"mt-1 text-[10px] text-red-600"},ge={key:1,class:"mt-2 flex items-center gap-2"},be={class:"h-12 w-20 rounded border border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center"},ye=["src"],fe=["src"],ve={class:"flex justify-end gap-2 mt-5 text-[11px]"},he=["disabled"],_e={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},we={key:2,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},ke={class:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-5"},Ce={class:"text-[11px] text-gray-500 mb-4"},Se={class:"font-semibold"},je={class:"flex justify-end gap-2 text-[11px]"},Me=["disabled"],De={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},Fe={__name:"Services",props:{services:{type:Array,default:()=>[]}},setup(g){const M=g,D=A(),h=w(()=>(D.props.errors||{}).service||null),i=m(null),p=m(!1),x=m(!1),c=m(!1),s=k({title:"",short_description:"",body:"",image_url:"",image:null}),E=()=>{i.value=null,s.reset(),s.image=null,p.value=!0},N=()=>{s.post(route("admin.services.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!1,s.reset()}})},V=n=>{i.value=n,s.title=n.title,s.short_description=n.short_description,s.body=n.body,s.image_url=n.image_url||"",s.image=null,x.value=!0},$=()=>{i.value&&s.post(route("admin.services.update",i.value.id),{preserveScroll:!0,onSuccess:()=>{x.value=!1}})},b=k({}),F=n=>{i.value=n,c.value=!0},T=()=>{i.value&&b.post(route("admin.services.destroy",i.value.id),{preserveScroll:!0,onSuccess:()=>{c.value=!1}})},U=w(()=>M.services.length);return(n,t)=>(a(),o(S,null,[C(r(L),{title:"Services Management"}),C(B,null,{default:O(()=>[e("div",P,[h.value?(a(),o("div",I,[t[8]||(t[8]=e("span",{class:"material-icons text-[14px] mt-[1px]"},"error_outline",-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"font-semibold mb-0.5"},"Action failed",-1)),e("p",R,u(h.value),1)])])):d("",!0),e("div",q,[t[12]||(t[12]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Services Management"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Create and edit the services shown on the Services page.")],-1)),e("div",G,[e("div",H,[t[9]||(t[9]=e("span",{class:"material-icons text-sm"},"design_services",-1)),e("span",J,u(U.value),1),t[10]||(t[10]=e("span",{class:"text-emerald-800/80"},"services",-1))]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700",onClick:E},[...t[11]||(t[11]=[e("span",{class:"material-icons text-[13px]"},"add",-1),e("span",null,"New service",-1)])])])]),e("div",K,[t[17]||(t[17]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-sm font-semibold text-gray-900"},"Services"),e("p",{class:"text-[11px] text-gray-500"},"Manage titles, summaries and content for each service.")],-1)),e("div",Q,[e("table",W,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"border-b border-gray-100 text-[11px] text-gray-500"},[e("th",{class:"py-2 px-3 font-medium"},"Title"),e("th",{class:"py-2 px-3 font-medium"},"Summary"),e("th",{class:"py-2 px-3 font-medium"},"Image"),e("th",{class:"py-2 px-3 font-medium"},"Created"),e("th",{class:"py-2 px-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(a(!0),o(S,null,z(g.services,l=>(a(),o("tr",{key:l.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[e("td",X,u(l.title),1),e("td",Y,[e("span",Z,u(l.short_description),1)]),e("td",ee,[e("div",te,[l.image_url?(a(),o("img",{key:0,src:l.image_url,alt:l.title,class:"h-full w-full object-cover"},null,8,se)):(a(),o("span",le,"No image"))])]),e("td",re,u(new Date(l.created_at).toLocaleDateString()),1),e("td",oe,[e("div",ae,[e("button",{class:"px-2 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-100 flex items-center gap-1",onClick:y=>V(l)},[...t[13]||(t[13]=[e("span",{class:"material-icons text-[12px]"},"edit",-1),e("span",null,"Edit",-1)])],8,ne),e("button",{class:"px-2 py-1 rounded-full bg-red-50 border border-red-100 text-red-600 hover:bg-red-100 flex items-center gap-1",onClick:y=>F(l)},[...t[14]||(t[14]=[e("span",{class:"material-icons text-[12px]"},"delete",-1),e("span",null,"Delete",-1)])],8,ie)])])]))),128)),g.services.length?d("",!0):(a(),o("tr",de,[...t[15]||(t[15]=[e("td",{colspan:"5",class:"py-6 text-center text-[11px] text-gray-500"}," No services found. ",-1)])]))])])])]),p.value||x.value?(a(),o("div",ue,[e("div",pe,[e("h3",xe,u(p.value?"Create service":"Edit service"),1),t[23]||(t[23]=e("p",{class:"text-[11px] text-gray-500 mb-4"}," Manage the title, summary, content and image for this service. ",-1)),e("div",ce,[e("div",null,[t[18]||(t[18]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Title",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r(s).title=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[v,r(s).title]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Short description",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r(s).short_description=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[v,r(s).short_description]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Detailed description",-1)),f(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>r(s).body=l),rows:"6",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Explain this service in detail so readers can understand what you offer."},null,512),[[v,r(s).body]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Image",-1)),e("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:t[3]||(t[3]=l=>{var _;const y=((_=l.target.files)==null?void 0:_[0])??null;r(s).image=y})},null,32),r(s).errors.image?(a(),o("p",me,u(r(s).errors.image),1)):d("",!0),r(s).image||r(s).image_url?(a(),o("div",ge,[t[21]||(t[21]=e("span",{class:"text-[10px] text-gray-500"},"Preview:",-1)),e("div",be,[r(s).image?(a(),o("img",{key:0,src:n.URL.createObjectURL(r(s).image),alt:"Preview",class:"h-full w-full object-cover"},null,8,ye)):r(s).image_url?(a(),o("img",{key:1,src:r(s).image_url,alt:"Current image",class:"h-full w-full object-cover"},null,8,fe)):d("",!0)])])):d("",!0)])]),e("div",ve,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[4]||(t[4]=l=>p.value?p.value=!1:x.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:r(s).processing,onClick:t[5]||(t[5]=l=>p.value?N():$())},[r(s).processing?(a(),o("span",_e)):d("",!0),e("span",null,u(p.value?"Create service":"Save changes"),1)],8,he)])])])):d("",!0),c.value&&i.value?(a(),o("div",we,[e("div",ke,[t[27]||(t[27]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Delete service",-1)),e("p",Ce,[t[24]||(t[24]=j(" Are you sure you want to permanently delete ",-1)),e("span",Se,u(i.value.title),1),t[25]||(t[25]=j("? This action cannot be undone. ",-1))]),e("div",je,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[6]||(t[6]=l=>c.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-red-600 text-white text-xs font-semibold hover:bg-red-700 flex items-center gap-2",type:"button",disabled:r(b).processing,onClick:T},[r(b).processing?(a(),o("span",De)):d("",!0),t[26]||(t[26]=e("span",null,"Delete",-1))],8,Me)])])])):d("",!0)])]),_:1})],64))}};export{Fe as default};

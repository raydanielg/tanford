import{u as C,r as B,d as L,c as l,a as b,e as r,h as U,w as f,f as t,q as v,s as j,o as a,t as u,i as x,j as i,v as y,y as V,F as $}from"./app-B99JQObE.js";import{_ as M}from"./AuthenticatedLayout-DuD7c139.js";import"./ApplicationLogo-1_kjUyVx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"space-y-6"},E={class:"flex items-center justify-between gap-4"},F={class:"flex items-center gap-3"},R={class:"flex items-center gap-2 text-[11px]"},T={key:0,class:"material-icons text-[12px]"},H={key:1,class:"material-icons text-[12px]"},S={class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs"},D={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},I={class:"space-y-3 lg:col-span-2"},N={key:0,class:"mt-1 text-[10px] text-red-600"},q={class:"grid grid-cols-2 gap-3"},O={class:"flex flex-wrap items-center gap-1 mb-2 text-[11px]"},z=["innerHTML"],A={key:0,class:"mt-1 text-[10px] text-red-600"},Y={class:"space-y-4"},G={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60"},J={key:0,class:"mt-1 text-[10px] text-red-600"},K={key:1,class:"mt-2 flex items-center gap-2"},Q={class:"h-12 w-20 rounded border border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center"},W=["src"],X=["src"],Z={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60 space-y-3"},ee={key:0,class:"mt-1 text-[10px] text-red-600"},te={key:0,class:"mt-1 text-[10px] text-red-600"},re={key:0,class:"mt-1 text-[10px] text-red-600"},se={class:"border border-gray-100 rounded-xl p-3 bg-gray-50/60 flex items-center justify-between"},oe={class:"flex items-center gap-2 text-[11px] text-gray-700"},le={class:"flex justify-end gap-2 mt-5 text-[11px]"},ae=["disabled"],de={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},ge={__name:"PostEdit",props:{post:{type:Object,required:!0}},setup(k){const d=k,s=C({title:d.post.title||"",category:d.post.category||"",author_name:d.post.author_name||"",image_url:d.post.image_url||"",image:null,body_image:null,body_audio:null,body_video:null,excerpt:d.post.excerpt||"",body:d.post.body||"",published:!!d.post.published_at}),c=B(null),m=L(()=>!!d.post.published_at),g=(n,e=null)=>{typeof document>"u"||(c.value?.focus(),document.execCommand(n,!1,e))},w=n=>{g("formatBlock",n)},_=n=>{s.body=n.target.innerHTML},h=()=>{s.post(route("admin.posts.update",d.post.id),{preserveScroll:!0,onSuccess:()=>{}})};return(n,e)=>(a(),l($,null,[b(r(U),{title:`Edit Post - ${d.post.title}`},null,8,["title"]),b(M,null,{default:f(()=>[t("div",P,[t("div",E,[t("div",F,[b(r(v),{href:n.route("admin.posts.index"),class:"inline-flex items-center gap-1 rounded-full bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 border border-gray-200 hover:bg-gray-100"},{default:f(()=>[...e[15]||(e[15]=[t("span",{class:"material-icons text-[14px]"},"arrow_back",-1),t("span",null,"Back to posts",-1)])]),_:1},8,["href"]),e[16]||(e[16]=t("div",null,[t("h1",{class:"text-lg font-semibold text-gray-900"},"Edit post"),t("p",{class:"text-[11px] text-gray-500 mt-0.5"}," Update content and publishing status for this blog post. ")],-1))]),t("div",R,[t("span",{class:j(["inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",m.value?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-gray-50 text-gray-600 border border-gray-200"])},[m.value?(a(),l("span",T,"visibility")):(a(),l("span",H,"draft")),t("span",null,u(m.value?"Published":"Draft"),1)],2)])]),t("div",S,[t("div",D,[t("div",I,[t("div",null,[e[17]||(e[17]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Title",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r(s).title=o),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[y,r(s).title]]),r(s).errors.title?(a(),l("p",N,u(r(s).errors.title),1)):i("",!0)]),t("div",q,[t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Category",-1)),x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r(s).category=o),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[y,r(s).category]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Author",-1)),x(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(s).author_name=o),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[y,r(s).author_name]])])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Excerpt",-1)),x(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>r(s).excerpt=o),rows:"3",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[y,r(s).excerpt]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body (rich text)",-1)),t("div",O,[t("button",{type:"button",class:"px-2 py-1 rounded border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700 font-semibold",onClick:e[4]||(e[4]=o=>g("bold"))}," B "),t("button",{type:"button",class:"px-2 py-1 rounded border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700 italic",onClick:e[5]||(e[5]=o=>g("italic"))}," I "),t("button",{type:"button",class:"px-2 py-1 rounded border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700 underline",onClick:e[6]||(e[6]=o=>g("underline"))}," U "),t("button",{type:"button",class:"px-2 py-1 rounded border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:e[7]||(e[7]=o=>w("h3"))}," H3 "),t("button",{type:"button",class:"px-2 py-1 rounded border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:e[8]||(e[8]=o=>g("insertUnorderedList"))}," â€¢ List "),t("button",{type:"button",class:"px-2 py-1 rounded border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:e[9]||(e[9]=()=>{const o=n.prompt("Link URL");o&&g("createLink",o)})}," Link ")]),t("div",{ref_key:"editorRef",ref:c,class:"w-full min-h-[220px] border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500 bg-white prose prose-sm max-w-none",contenteditable:"true",innerHTML:r(s).body,onInput:_},null,40,z),e[22]||(e[22]=t("p",{class:"mt-1 text-[10px] text-gray-400"}," You can format text (bold, italic, lists, headings) and insert links. ",-1)),r(s).errors.body?(a(),l("p",A,u(r(s).errors.body),1)):i("",!0)])]),t("div",Y,[t("div",G,[e[24]||(e[24]=t("h3",{class:"text-[11px] font-semibold text-gray-800 mb-2"},"Featured image",-1)),t("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:e[10]||(e[10]=o=>{const p=o.target.files?.[0]??null;r(s).image=p})},null,32),r(s).errors.image?(a(),l("p",J,u(r(s).errors.image),1)):i("",!0),r(s).image||r(s).image_url?(a(),l("div",K,[e[23]||(e[23]=t("span",{class:"text-[10px] text-gray-500"},"Preview:",-1)),t("div",Q,[r(s).image?(a(),l("img",{key:0,src:n.URL.createObjectURL(r(s).image),alt:"Preview",class:"h-full w-full object-cover"},null,8,W)):r(s).image_url?(a(),l("img",{key:1,src:r(s).image_url,alt:"Current image",class:"h-full w-full object-cover"},null,8,X)):i("",!0)])])):i("",!0)]),t("div",Z,[e[28]||(e[28]=t("h3",{class:"text-[11px] font-semibold text-gray-800"},"Body media",-1)),t("div",null,[e[25]||(e[25]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body image (optional)",-1)),t("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:e[11]||(e[11]=o=>{const p=o.target.files?.[0]??null;r(s).body_image=p})},null,32),r(s).errors.body_image?(a(),l("p",ee,u(r(s).errors.body_image),1)):i("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body audio (mp3/wav)",-1)),t("input",{type:"file",accept:"audio/*",class:"w-full text-[11px] text-gray-600",onChange:e[12]||(e[12]=o=>{const p=o.target.files?.[0]??null;r(s).body_audio=p})},null,32),r(s).errors.body_audio?(a(),l("p",te,u(r(s).errors.body_audio),1)):i("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body video (mp4/webm)",-1)),t("input",{type:"file",accept:"video/*",class:"w-full text-[11px] text-gray-600",onChange:e[13]||(e[13]=o=>{const p=o.target.files?.[0]??null;r(s).body_video=p})},null,32),r(s).errors.body_video?(a(),l("p",re,u(r(s).errors.body_video),1)):i("",!0)])]),t("div",se,[t("label",oe,[x(t("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>r(s).published=o),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[V,r(s).published]]),e[29]||(e[29]=t("span",null,"Mark as published (visible on site)",-1))])])])]),t("div",le,[b(r(v),{href:n.route("admin.posts.index"),class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100 inline-flex items-center gap-1"},{default:f(()=>[...e[30]||(e[30]=[t("span",{class:"material-icons text-[13px]"},"close",-1),t("span",null,"Cancel",-1)])]),_:1},8,["href"]),t("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:r(s).processing,onClick:h},[r(s).processing?(a(),l("span",de)):i("",!0),e[31]||(e[31]=t("span",null,"Save changes",-1))],8,ae)])])])]),_:1})],64))}};export{ge as default};

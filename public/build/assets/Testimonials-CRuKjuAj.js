import{r as g,u as w,d as A,c as o,a as _,e as a,h as $,w as B,f as e,j as u,t as d,o as r,F as k,l as E,i as m,v as b,n as C}from"./app-DH_IQWaf.js";import{_ as F}from"./AuthenticatedLayout-BKN0BniS.js";import"./ApplicationLogo-DhczJS8o.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"space-y-6"},O={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},R={class:"flex items-center gap-3 text-[11px]"},P={class:"px-3 py-2 rounded-2xl bg-emerald-50 text-emerald-700 border border-emerald-100 flex items-center gap-2"},q={class:"font-semibold"},z={class:"bg-white rounded-2xl border border-gray-100 p-5"},H={class:"overflow-x-auto"},G={class:"min-w-full text-xs text-left"},I={class:"py-2.5 px-3"},J={class:"flex items-center gap-2"},K={class:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-emerald-50 text-[11px] font-semibold text-emerald-700"},Q={class:"text-[12px] text-gray-900 font-medium"},W={class:"py-2.5 px-3"},X={class:"h-9 w-9 rounded-full bg-gray-50 border border-gray-100 overflow-hidden flex items-center justify-center"},Y=["src","alt"],Z={key:1,class:"text-[9px] text-gray-400"},ee={class:"py-2.5 px-3 text-[11px] text-gray-600"},te={class:"py-2.5 px-3 text-[11px] text-gray-700 line-clamp-1"},se={class:"py-2.5 px-3 text-[11px] text-gray-500 whitespace-nowrap"},le={class:"py-2.5 px-3 text-[11px] text-right"},ae={class:"inline-flex items-center gap-1"},oe=["onClick"],re=["onClick"],ne={key:0},de={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},ie={class:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-5 max-h-[90vh] overflow-y-auto text-xs"},ue={class:"text-sm font-semibold text-gray-900 mb-2"},pe={class:"space-y-3"},xe={class:"grid grid-cols-2 gap-3"},me={key:0,class:"mt-1 text-[10px] text-red-600"},be={key:0,class:"mt-1 text-[10px] text-red-600"},ce={key:1,class:"mt-2 flex items-center gap-2"},ye={class:"h-10 w-10 rounded-full overflow-hidden border border-gray-200 bg-gray-50 flex items-center justify-center"},ge=["src"],fe=["src"],ve={class:"flex justify-end gap-2 mt-5 text-[11px]"},he=["disabled"],we={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},_e={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},ke={class:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-5"},Ce={class:"text-[11px] text-gray-500 mb-4"},je={class:"font-semibold"},Te={class:"flex justify-end gap-2 text-[11px]"},De=["disabled"],Se={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},Ae={__name:"Testimonials",props:{testimonials:{type:Array,default:()=>[]}},setup(f){const j=f,i=g(null),p=g(!1),c=g(!1),y=g(!1),s=w({name:"",role:"",avatar_url:"",avatar:null,headline:"",body1:"",body2:""}),T=()=>{i.value=null,s.reset(),s.avatar=null,p.value=!0},D=()=>{s.post(route("admin.testimonials.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!1,s.reset()}})},S=n=>{i.value=n,s.name=n.name,s.role=n.role||"",s.avatar_url=n.avatar_url||"",s.avatar=null,s.headline=n.headline||"",s.body1=n.body1||"",s.body2=n.body2||"",c.value=!0},V=()=>{i.value&&s.put(route("admin.testimonials.update",i.value.id),{preserveScroll:!0,onSuccess:()=>{c.value=!1}})},v=w({}),M=n=>{i.value=n,y.value=!0},N=()=>{i.value&&v.delete(route("admin.testimonials.destroy",i.value.id),{preserveScroll:!0,onSuccess:()=>{y.value=!1}})},U=A(()=>j.testimonials.length);return(n,t)=>(r(),o(k,null,[_(a($),{title:"Testimonials"}),_(F,null,{default:B(()=>[e("div",L,[e("div",O,[t[12]||(t[12]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Testimonials"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Manage quotes shown on the public site homepage.")],-1)),e("div",R,[e("div",P,[t[9]||(t[9]=e("span",{class:"material-icons text-sm"},"format_quote",-1)),e("span",q,d(U.value),1),t[10]||(t[10]=e("span",{class:"text-emerald-800/80"},"testimonials",-1))]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700",onClick:T},[...t[11]||(t[11]=[e("span",{class:"material-icons text-[13px]"},"add",-1),e("span",null,"New testimonial",-1)])])])]),e("div",z,[t[17]||(t[17]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-sm font-semibold text-gray-900"},"All testimonials"),e("p",{class:"text-[11px] text-gray-500"},"These appear in the Testimonials section on the homepage.")],-1)),e("div",H,[e("table",G,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"border-b border-gray-100 text-[11px] text-gray-500"},[e("th",{class:"py-2 px-3 font-medium"},"Person"),e("th",{class:"py-2 px-3 font-medium"},"Avatar"),e("th",{class:"py-2 px-3 font-medium"},"Role"),e("th",{class:"py-2 px-3 font-medium"},"Headline"),e("th",{class:"py-2 px-3 font-medium"},"Created"),e("th",{class:"py-2 px-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(r(!0),o(k,null,E(f.testimonials,l=>(r(),o("tr",{key:l.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[e("td",I,[e("div",J,[e("span",K,d(l.name.split(" ").map(x=>x[0]).join("").slice(0,2).toUpperCase()),1),e("span",Q,d(l.name),1)])]),e("td",W,[e("div",X,[l.avatar_url?(r(),o("img",{key:0,src:l.avatar_url,alt:l.name,class:"h-full w-full object-cover"},null,8,Y)):(r(),o("span",Z,"No image"))])]),e("td",ee,d(l.role||"-"),1),e("td",te,d(l.headline||"-"),1),e("td",se,d(new Date(l.created_at).toLocaleDateString()),1),e("td",le,[e("div",ae,[e("button",{class:"px-2 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-100 flex items-center gap-1",onClick:x=>S(l)},[...t[13]||(t[13]=[e("span",{class:"material-icons text-[12px]"},"edit",-1),e("span",null,"Edit",-1)])],8,oe),e("button",{class:"px-2 py-1 rounded-full bg-red-50 border border-red-100 text-red-600 hover:bg-red-100 flex items-center gap-1",onClick:x=>M(l)},[...t[14]||(t[14]=[e("span",{class:"material-icons text-[12px]"},"delete",-1),e("span",null,"Delete",-1)])],8,re)])])]))),128)),f.testimonials.length?u("",!0):(r(),o("tr",ne,[...t[15]||(t[15]=[e("td",{colspan:"5",class:"py-6 text-center text-[11px] text-gray-500"}," No testimonials found. ",-1)])]))])])])]),p.value||c.value?(r(),o("div",de,[e("div",ie,[e("h3",ue,d(p.value?"Create testimonial":"Edit testimonial"),1),t[25]||(t[25]=e("p",{class:"text-[11px] text-gray-500 mb-4"}," Control the content that appears in the homepage Testimonials carousel. ",-1)),e("div",pe,[e("div",xe,[e("div",null,[t[18]||(t[18]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Name",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>a(s).name=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[b,a(s).name]]),a(s).errors.name?(r(),o("p",me,d(a(s).errors.name),1)):u("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Role / Title",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>a(s).role=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[b,a(s).role]])])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Avatar image",-1)),e("input",{type:"file",accept:"image/*",class:"w-full text-[11px] text-gray-600",onChange:t[2]||(t[2]=l=>{var h;const x=((h=l.target.files)==null?void 0:h[0])??null;a(s).avatar=x})},null,32),a(s).errors.avatar?(r(),o("p",be,d(a(s).errors.avatar),1)):u("",!0),a(s).avatar||a(s).avatar_url?(r(),o("div",ce,[t[20]||(t[20]=e("span",{class:"text-[10px] text-gray-500"},"Preview:",-1)),e("div",ye,[a(s).avatar?(r(),o("img",{key:0,src:n.URL.createObjectURL(a(s).avatar),alt:"Preview",class:"h-full w-full object-cover"},null,8,ge)):a(s).avatar_url?(r(),o("img",{key:1,src:a(s).avatar_url,alt:"Current avatar",class:"h-full w-full object-cover"},null,8,fe)):u("",!0)])])):u("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Headline",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>a(s).headline=l),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[b,a(s).headline]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body (intro)",-1)),m(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>a(s).body1=l),rows:"3",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[b,a(s).body1]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Body (extra)",-1)),m(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>a(s).body2=l),rows:"3",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[b,a(s).body2]])])]),e("div",ve,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[6]||(t[6]=l=>p.value?p.value=!1:c.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:a(s).processing,onClick:t[7]||(t[7]=l=>p.value?D():V())},[a(s).processing?(r(),o("span",we)):u("",!0),e("span",null,d(p.value?"Create testimonial":"Save changes"),1)],8,he)])])])):u("",!0),y.value&&i.value?(r(),o("div",_e,[e("div",ke,[t[29]||(t[29]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Delete testimonial",-1)),e("p",Ce,[t[26]||(t[26]=C(" Are you sure you want to permanently delete ",-1)),e("span",je,d(i.value.name),1),t[27]||(t[27]=C("? This action cannot be undone. ",-1))]),e("div",Te,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[8]||(t[8]=l=>y.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-red-600 text-white text-xs font-semibold hover:bg-red-700 flex items-center gap-2",type:"button",disabled:a(v).processing,onClick:N},[a(v).processing?(r(),o("span",Se)):u("",!0),t[28]||(t[28]=e("span",null,"Delete",-1))],8,De)])])])):u("",!0)])]),_:1})],64))}};export{Ae as default};

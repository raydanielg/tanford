import{_ as g}from"./AuthenticatedLayout-DoX8l6IP.js";import{r as f,d as b,p as h,w as v,a as _,f as t,e as k,h as w,n as C,t as a,c as i,j as S,o as d,F as E,l as j,s as A,x as N}from"./app-qFqRVZMi.js";import"./ApplicationLogo-DRp0MYej.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"space-y-6"},$={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},P={class:"text-[11px] text-gray-500"},U={class:"font-semibold text-emerald-700"},B={class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs overflow-x-auto"},D={class:"flex items-center justify-between mb-3"},F={class:"flex items-center gap-2"},V=["disabled"],L=["disabled"],z={class:"min-w-full text-left"},I={class:"border-b border-gray-100 text-[11px] text-gray-500"},T={class:"py-2 px-3 font-medium w-8"},q=["checked"],G={class:"py-2 px-3 text-[11px] text-gray-700"},H=["value","checked","onChange"],J={class:"py-2 px-3 text-[11px] text-gray-900"},K={class:"py-2 px-3 text-[11px] text-emerald-700"},M={class:"py-2 px-3 text-[11px] text-gray-700"},O={class:"py-2 px-3 text-[11px] text-gray-700"},Q={class:"py-2 px-3 text-[11px] text-gray-700"},W={class:"py-2 px-3 text-[11px] text-gray-700"},X={class:"py-2 px-3 text-[11px] text-gray-700"},Y={class:"py-2 px-3 text-[11px]"},Z={class:"py-2 px-3 text-[11px] text-gray-500"},tt={class:"py-2 px-3 text-[11px] text-right"},et={class:"flex gap-1 justify-end"},st=["disabled","onClick"],ot=["disabled","onClick"],lt={key:0},it={__name:"UaeResidents",props:{residents:{type:Array,default:()=>[]}},setup(c){const r=c,p=(l,e)=>{!e||l.status===e||N.post(route("admin.uae-residents.update-status",l.id),{status:e},{preserveScroll:!0,preserveState:!0})},o=f([]),x=b(()=>r.residents.length?o.value.length===r.residents.length:!1),m=()=>{x.value?o.value=[]:o.value=r.residents.map(l=>l.id)},y=l=>{o.value.includes(l)?o.value=o.value.filter(e=>e!==l):o.value.push(l)},u=l=>{if(!o.value.length)return;const e=new URLSearchParams;o.value.forEach(n=>e.append("ids[]",n)),e.append("format",l);const s=route("admin.uae-residents.export")+"?"+e.toString();window.location.href=s};return(l,e)=>(d(),h(g,null,{default:v(()=>[_(k(w),{title:"UAE Resident registrations"}),t("div",R,[t("div",$,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-lg font-semibold text-gray-900"},"UAE Residents"),t("p",{class:"text-[11px] text-gray-500 mt-1"}," Submissions from the UAE residents diaspora registration form. ")],-1)),t("div",P,[t("span",U,a(r.residents.length),1),e[2]||(e[2]=C(" registrations ",-1))])]),t("div",B,[t("div",D,[e[6]||(e[6]=t("p",{class:"text-[11px] text-gray-500"}," Select residents then export as PDF or Excel. ",-1)),t("div",F,[t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1.5 text-[11px] font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-default",disabled:!o.value.length,onClick:e[0]||(e[0]=s=>u("excel"))},[...e[4]||(e[4]=[t("span",{class:"material-icons text-[14px] text-emerald-600"},"grid_on",-1),t("span",null,"Export Excel",-1)])],8,V),t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1.5 text-[11px] font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-default",disabled:!o.value.length,onClick:e[1]||(e[1]=s=>u("pdf"))},[...e[5]||(e[5]=[t("span",{class:"material-icons text-[14px] text-rose-500"},"picture_as_pdf",-1),t("span",null,"Export PDF",-1)])],8,L)])]),t("table",z,[t("thead",null,[t("tr",I,[t("th",T,[t("input",{type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-emerald-600",checked:x.value,onChange:m},null,40,q)]),e[7]||(e[7]=t("th",{class:"py-2 px-3 font-medium"},"Name",-1)),e[8]||(e[8]=t("th",{class:"py-2 px-3 font-medium"},"Email",-1)),e[9]||(e[9]=t("th",{class:"py-2 px-3 font-medium"},"Phone",-1)),e[10]||(e[10]=t("th",{class:"py-2 px-3 font-medium"},"City",-1)),e[11]||(e[11]=t("th",{class:"py-2 px-3 font-medium"},"Country",-1)),e[12]||(e[12]=t("th",{class:"py-2 px-3 font-medium"},"Nationality",-1)),e[13]||(e[13]=t("th",{class:"py-2 px-3 font-medium"},"Package",-1)),e[14]||(e[14]=t("th",{class:"py-2 px-3 font-medium"},"Status",-1)),e[15]||(e[15]=t("th",{class:"py-2 px-3 font-medium"},"Created",-1)),e[16]||(e[16]=t("th",{class:"py-2 px-3 font-medium text-right"},"Actions",-1))])]),t("tbody",null,[(d(!0),i(E,null,j(r.residents,s=>(d(),i("tr",{key:s.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[t("td",G,[t("input",{type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-emerald-600",value:s.id,checked:o.value.includes(s.id),onChange:n=>y(s.id)},null,40,H)]),t("td",J,a(s.name),1),t("td",K,a(s.email),1),t("td",M,a(s.phone||"-"),1),t("td",O,a(s.city||"-"),1),t("td",Q,a(s.country||"-"),1),t("td",W,a(s.nationality||"-"),1),t("td",X,a(s.package||"-"),1),t("td",Y,[t("span",{class:A(["inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium",{"bg-yellow-100 text-yellow-800":!s.status||s.status==="pending","bg-emerald-100 text-emerald-800":s.status==="approved","bg-rose-100 text-rose-800":s.status==="rejected"}])},a(s.status||"pending"),3)]),t("td",Z,a(new Date(s.created_at).toLocaleString()),1),t("td",tt,[t("div",et,[t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[10px] border border-emerald-200 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 disabled:opacity-60 disabled:cursor-default",disabled:s.status==="approved",onClick:n=>p(s,"approved")},[...e[17]||(e[17]=[t("span",{class:"material-icons text-[13px]"},"check_circle",-1),t("span",null,"Approve",-1)])],8,st),t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[10px] border border-rose-200 text-rose-700 bg-rose-50 hover:bg-rose-100 disabled:opacity-60 disabled:cursor-default",disabled:s.status==="rejected",onClick:n=>p(s,"rejected")},[...e[18]||(e[18]=[t("span",{class:"material-icons text-[13px]"},"cancel",-1),t("span",null,"Reject",-1)])],8,ot)])])]))),128)),r.residents.length?S("",!0):(d(),i("tr",lt,[...e[19]||(e[19]=[t("td",{colspan:"11",class:"py-6 text-center text-[11px] text-gray-500"},"No registrations yet.",-1)])]))])])])])]),_:1}))}};export{it as default};

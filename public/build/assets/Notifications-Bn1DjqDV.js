import{r as c,u as v,d as M,p as E,w as T,f as e,c as a,j as w,n as f,t as x,o as i,F,l as z,s as B,g as h,i as d,e as l,v as m,y as k}from"./app-lIrt8iGD.js";import{_ as L}from"./AuthenticatedLayout-CuBoH9O4.js";import"./ApplicationLogo-BgvaR_Dr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"space-y-6"},A={class:"flex items-center justify-between"},O={class:"flex items-center gap-3"},R={class:"inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 border border-emerald-100"},H={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},q={class:"min-w-full divide-y divide-gray-100 text-sm"},G={key:0,class:"divide-y divide-gray-100"},I={class:"px-4 py-2 text-xs text-gray-600"},J={class:"px-4 py-2 text-sm font-medium text-gray-900"},K={class:"px-4 py-2 text-xs text-emerald-700 truncate max-w-xs"},Q=["href"],W={class:"px-4 py-2"},X={class:"material-icons text-[14px] mr-1"},Y={class:"px-4 py-2 text-right text-xs"},Z=["onClick"],ee=["onClick"],te={key:1},se={key:0,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40"},le={class:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6"},oe={class:"flex items-center justify-between mb-4"},re={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2 text-xs text-gray-700"},ie={class:"flex items-center gap-2 text-xs text-gray-500"},de={class:"mt-4 flex justify-end gap-2"},ae={key:1,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40"},ue={class:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6"},xe={class:"flex items-center justify-between mb-4"},me={class:"flex items-center justify-between"},pe={class:"flex items-center gap-2 text-xs text-gray-700"},be={class:"flex items-center gap-2 text-xs text-gray-500"},fe={class:"mt-4 flex justify-end gap-2"},ye={key:2,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40"},ge={class:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6"},ce={class:"mt-2 flex justify-end gap-2"},_e={__name:"Notifications",props:{notifications:{type:Array,default:()=>[]}},setup(_){const y=_,p=c(!1),b=c(!1),g=c(!1),u=c(null),r=v({title:"",url:"",is_published:!0,sort_order:0}),o=v({id:null,title:"",url:"",is_published:!0,sort_order:0}),C=()=>{r.reset(),r.is_published=!0,r.sort_order=y.notifications.length,p.value=!0},j=n=>{u.value=n,o.id=n.id,o.title=n.title,o.url=n.url,o.is_published=!!n.is_published,o.sort_order=n.sort_order??0,b.value=!0},U=n=>{u.value=n,g.value=!0},N=()=>{r.post(route("admin.notifications.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!1}})},V=()=>{u.value&&o.post(route("admin.notifications.update",u.value.id),{preserveScroll:!0,onSuccess:()=>{b.value=!1}})},S=()=>{if(!u.value)return;v({}).post(route("admin.notifications.destroy",u.value.id),{preserveScroll:!0,onSuccess:()=>{g.value=!1}})},D=M(()=>y.notifications.filter(n=>n.is_published).length);return(n,t)=>(i(),E(L,null,{default:T(()=>[e("div",P,[e("div",A,[t[15]||(t[15]=e("div",null,[e("h1",{class:"text-xl font-semibold text-gray-900"},"Hero Notifications"),e("p",{class:"text-sm text-gray-500"}," Manage small notification badges that appear in the hero section on the home page. ")],-1)),e("div",O,[e("span",R,[t[13]||(t[13]=e("span",{class:"material-icons text-xs mr-1"},"notifications",-1)),f(" "+x(D.value)+" published ",1)]),e("button",{type:"button",class:"inline-flex items-center rounded-lg bg-emerald-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:C},[...t[14]||(t[14]=[e("span",{class:"material-icons text-xs mr-1"},"add",-1),f(" New notification ",-1)])])])]),e("div",H,[e("table",q,[t[19]||(t[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500"},"Order"),e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500"},"Title"),e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500"},"URL"),e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500"},"Published"),e("th",{class:"px-4 py-2 text-right text-xs font-semibold text-gray-500"},"Actions")])],-1)),y.notifications.length?(i(),a("tbody",G,[(i(!0),a(F,null,z(y.notifications,s=>(i(),a("tr",{key:s.id},[e("td",I,x(s.sort_order),1),e("td",J,x(s.title),1),e("td",K,[e("a",{href:s.url,target:"_blank",rel:"noopener",class:"hover:underline"},x(s.url),9,Q)]),e("td",W,[e("span",{class:B(["inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",s.is_published?"bg-emerald-50 text-emerald-700":"bg-gray-50 text-gray-500"])},[e("span",X,x(s.is_published?"visibility":"visibility_off"),1),f(" "+x(s.is_published?"Published":"Hidden"),1)],2)]),e("td",Y,[e("button",{type:"button",class:"inline-flex items-center rounded-full border border-gray-200 px-2 py-1 mr-1 text-xs text-gray-700 hover:bg-gray-50",onClick:$=>j(s)},[...t[16]||(t[16]=[e("span",{class:"material-icons text-[14px] mr-1"},"edit",-1),f(" Edit ",-1)])],8,Z),e("button",{type:"button",class:"inline-flex items-center rounded-full border border-red-100 px-2 py-1 text-xs text-red-600 hover:bg-red-50",onClick:$=>U(s)},[...t[17]||(t[17]=[e("span",{class:"material-icons text-[14px] mr-1"},"delete",-1),f(" Delete ",-1)])],8,ee)])]))),128))])):(i(),a("tbody",te,[...t[18]||(t[18]=[e("tr",null,[e("td",{colspan:"5",class:"px-4 py-6 text-center text-xs text-gray-500"},' No notifications yet. Click "New notification" to create one. ')],-1)])]))])]),p.value?(i(),a("div",se,[e("div",le,[e("div",oe,[t[21]||(t[21]=e("h2",{class:"text-sm font-semibold text-gray-900"},"New notification",-1)),e("button",{type:"button",class:"text-gray-400 hover:text-gray-600",onClick:t[0]||(t[0]=s=>p.value=!1)},[...t[20]||(t[20]=[e("span",{class:"material-icons text-base"},"close",-1)])])]),e("form",{onSubmit:h(N,["prevent"]),class:"space-y-4 text-sm"},[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Title",-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(r).title=s),type:"text",class:"block w-full rounded-lg border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Notification text"},null,512),[[m,l(r).title]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"URL",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l(r).url=s),type:"text",class:"block w-full rounded-lg border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"https://example.com"},null,512),[[m,l(r).url]])]),e("div",re,[e("label",ne,[d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(r).is_published=s),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[k,l(r).is_published]]),t[24]||(t[24]=e("span",null,"Published",-1))]),e("div",ie,[t[25]||(t[25]=e("span",null,"Order",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(r).sort_order=s),type:"number",min:"0",class:"block w-20 rounded-lg border-gray-300 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,l(r).sort_order,void 0,{number:!0}]])])]),e("div",de,[e("button",{type:"button",class:"inline-flex justify-center rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50",onClick:t[5]||(t[5]=s=>p.value=!1)}," Cancel "),t[26]||(t[26]=e("button",{type:"submit",class:"inline-flex justify-center rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700"}," Save ",-1))])],32)])])):w("",!0),b.value?(i(),a("div",ae,[e("div",ue,[e("div",xe,[t[28]||(t[28]=e("h2",{class:"text-sm font-semibold text-gray-900"},"Edit notification",-1)),e("button",{type:"button",class:"text-gray-400 hover:text-gray-600",onClick:t[6]||(t[6]=s=>b.value=!1)},[...t[27]||(t[27]=[e("span",{class:"material-icons text-base"},"close",-1)])])]),e("form",{onSubmit:h(V,["prevent"]),class:"space-y-4 text-sm"},[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Title",-1)),d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l(o).title=s),type:"text",class:"block w-full rounded-lg border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,l(o).title]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"URL",-1)),d(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l(o).url=s),type:"text",class:"block w-full rounded-lg border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,l(o).url]])]),e("div",me,[e("label",pe,[d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l(o).is_published=s),type:"checkbox",class:"rounded border-gray-300 text-emerald-600 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[k,l(o).is_published]]),t[31]||(t[31]=e("span",null,"Published",-1))]),e("div",be,[t[32]||(t[32]=e("span",null,"Order",-1)),d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l(o).sort_order=s),type:"number",min:"0",class:"block w-20 rounded-lg border-gray-300 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,l(o).sort_order,void 0,{number:!0}]])])]),e("div",fe,[e("button",{type:"button",class:"inline-flex justify-center rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50",onClick:t[11]||(t[11]=s=>b.value=!1)}," Cancel "),t[33]||(t[33]=e("button",{type:"submit",class:"inline-flex justify-center rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700"}," Update ",-1))])],32)])])):w("",!0),g.value?(i(),a("div",ye,[e("div",ge,[t[34]||(t[34]=e("div",{class:"flex items-center gap-3 mb-3"},[e("span",{class:"material-icons text-red-500"},"warning"),e("h2",{class:"text-sm font-semibold text-gray-900"},"Delete notification")],-1)),t[35]||(t[35]=e("p",{class:"text-xs text-gray-600 mb-4"}," Are you sure you want to delete this notification? This action cannot be undone. ",-1)),e("div",ce,[e("button",{type:"button",class:"inline-flex justify-center rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50",onClick:t[12]||(t[12]=s=>g.value=!1)}," Cancel "),e("button",{type:"button",class:"inline-flex justify-center rounded-lg bg-red-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-red-700",onClick:S}," Delete ")])])])):w("",!0)])]),_:1}))}};export{_e as default};

import{r as g,u as h,d as L,c as o,a as k,e as r,h as R,w as O,f as e,j as d,t as i,o as a,F as w,l as P,i as x,v as m,n as C}from"./app-CHmKKiMX.js";import{_ as $}from"./AuthenticatedLayout-DQZK9xPY.js";import"./ApplicationLogo-CSwojkeE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-6"},B={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},E={class:"flex items-center gap-3 text-[11px]"},I={class:"px-3 py-2 rounded-2xl bg-emerald-50 text-emerald-700 border border-emerald-100 flex items-center gap-2"},z={class:"font-semibold"},q={class:"bg-white rounded-2xl border border-gray-100 p-5"},G={class:"overflow-x-auto"},H={class:"min-w-full text-xs text-left"},J={class:"py-2.5 px-3"},K={class:"flex items-center gap-2"},Q={class:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-emerald-50 text-[11px] font-semibold text-emerald-700"},W={class:"flex flex-col"},X={class:"text-[12px] text-gray-900 font-medium"},Y={class:"text-[11px] text-gray-500"},Z={class:"py-2.5 px-3"},ee={class:"h-12 w-12 rounded-full bg-gray-50 border border-gray-100 overflow-hidden flex items-center justify-center"},te=["src","alt"],se={key:1,class:"text-[10px] text-gray-400"},le={class:"py-2.5 px-3 text-[11px] text-gray-600"},re={class:"py-2.5 px-3 text-[11px] text-gray-700 max-w-xs"},oe={class:"line-clamp-2"},ae={class:"py-2.5 px-3 text-[11px] text-gray-600"},ne={class:"flex flex-wrap items-center gap-1.5"},de={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-pink-50 text-[10px] text-pink-700 border border-pink-100"},ie={key:1,class:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-50 text-[10px] text-blue-700 border border-blue-100"},pe={key:2,class:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-sky-50 text-[10px] text-sky-700 border border-sky-100"},ue={key:3,class:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-50 text-[10px] text-slate-700 border border-slate-100"},xe={key:4,class:"text-[10px] text-gray-400"},me={class:"py-2.5 px-3 text-[11px] text-gray-500 whitespace-nowrap"},be={class:"py-2.5 px-3 text-[11px] text-right"},ce={class:"inline-flex items-center gap-1"},ge=["onClick"],fe=["onClick"],ye={key:0},ve={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},_e={class:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-5 max-h-[90vh] overflow-y-auto text-xs"},he={class:"text-sm font-semibold text-gray-900 mb-2"},ke={class:"space-y-3"},we={class:"grid grid-cols-2 gap-3"},Ce={key:0,class:"mt-1 text-[10px] text-red-600"},Me={class:"flex items-center gap-3"},Te={class:"h-12 w-12 rounded-full bg-gray-50 border border-gray-200 overflow-hidden flex items-center justify-center"},Ue=["src"],je={key:1,class:"text-[10px] text-gray-400"},De={class:"inline-flex items-center gap-1 rounded-full bg-white px-3 py-1.5 text-[11px] font-medium text-gray-700 border border-gray-200 cursor-pointer hover:bg-gray-50"},Se={key:0,class:"mt-1 text-[10px] text-red-600"},Ve={class:"grid grid-cols-2 gap-3"},Fe={class:"grid grid-cols-2 gap-3"},Ne={class:"flex justify-end gap-2 mt-5 text-[11px]"},Le=["disabled"],Re={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},Oe={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40"},Pe={class:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-5"},$e={class:"text-[11px] text-gray-500 mb-4"},Ae={class:"font-semibold"},Be={class:"flex justify-end gap-2 text-[11px]"},Ee=["disabled"],Ie={key:0,class:"w-3 h-3 border-2 border-white/70 border-t-transparent rounded-full animate-spin"},Je={__name:"TeamMembers",props:{teamMembers:{type:Array,default:()=>[]}},setup(v){const M=v,p=g(null),u=g(!1),f=g(!1),y=g(!1),l=h({name:"",title:"",bio:"",photo:null,photo_url:"",facebook_url:"",twitter_url:"",instagram_url:"",linkedin_url:""}),b=g(""),T=()=>{p.value=null,l.reset(),l.photo=null,b.value="",u.value=!0},U=()=>{l.post(route("admin.team-members.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{u.value=!1,l.reset(),l.photo=null,b.value=""}})},j=n=>{p.value=n,l.name=n.name,l.title=n.title||"",l.bio=n.bio||"",l.photo=null,l.photo_url=n.photo_url||"",l.facebook_url=n.facebook_url||"",l.twitter_url=n.twitter_url||"",l.instagram_url=n.instagram_url||"",l.linkedin_url=n.linkedin_url||"",b.value=n.photo_url||"",f.value=!0},D=()=>{p.value&&l.post(route("admin.team-members.update",p.value.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{f.value=!1}})},_=h({}),S=n=>{p.value=n,y.value=!0},V=()=>{p.value&&_.delete(route("admin.team-members.destroy",p.value.id),{preserveScroll:!0,onSuccess:()=>{y.value=!1}})},F=n=>{const t=n.target.files?.[0]??null;if(!t)return;l.photo=t;const s=new FileReader;s.onload=c=>{b.value=c.target?.result??""},s.readAsDataURL(t)},N=L(()=>M.teamMembers.length);return(n,t)=>(a(),o(w,null,[k(r(R),{title:"Team Members"}),k($,null,{default:O(()=>[e("div",A,[e("div",B,[t[13]||(t[13]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Team Members"),e("p",{class:"text-[11px] text-gray-500 mt-1"}," Manage the leadership and core team shown in the Our Team section on the homepage. ")],-1)),e("div",E,[e("div",I,[t[10]||(t[10]=e("span",{class:"material-icons text-sm"},"groups",-1)),e("span",z,i(N.value),1),t[11]||(t[11]=e("span",{class:"text-emerald-800/80"},"people",-1))]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700",onClick:T},[...t[12]||(t[12]=[e("span",{class:"material-icons text-[13px]"},"add",-1),e("span",null,"New team member",-1)])])])]),e("div",q,[t[22]||(t[22]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-sm font-semibold text-gray-900"},"All team members"),e("p",{class:"text-[11px] text-gray-500"}," These people appear in the Our Team section on the homepage. ")],-1)),e("div",G,[e("table",H,[t[21]||(t[21]=e("thead",null,[e("tr",{class:"border-b border-gray-100 text-[11px] text-gray-500"},[e("th",{class:"py-2 px-3 font-medium"},"Person"),e("th",{class:"py-2 px-3 font-medium"},"Photo"),e("th",{class:"py-2 px-3 font-medium"},"Title"),e("th",{class:"py-2 px-3 font-medium"},"Bio"),e("th",{class:"py-2 px-3 font-medium"},"Social"),e("th",{class:"py-2 px-3 font-medium"},"Created"),e("th",{class:"py-2 px-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(a(!0),o(w,null,P(v.teamMembers,s=>(a(),o("tr",{key:s.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[e("td",J,[e("div",K,[e("span",Q,i(s.name.split(" ").map(c=>c[0]).join("").slice(0,2).toUpperCase()),1),e("div",W,[e("span",X,i(s.name),1),e("span",Y,i(s.title||"—"),1)])])]),e("td",Z,[e("div",ee,[s.photo_url?(a(),o("img",{key:0,src:s.photo_url,alt:s.name,class:"h-full w-full object-cover"},null,8,te)):(a(),o("span",se,"No photo"))])]),e("td",le,i(s.title||"—"),1),e("td",re,[e("p",oe,i(s.bio||"—"),1)]),e("td",ae,[e("div",ne,[s.instagram_url?(a(),o("span",de,[...t[14]||(t[14]=[e("span",{class:"material-icons text-[13px]"},"photo_camera",-1),e("span",null,"Instagram",-1)])])):d("",!0),s.facebook_url?(a(),o("span",ie,[...t[15]||(t[15]=[e("span",{class:"material-icons text-[13px]"},"facebook",-1),e("span",null,"Facebook",-1)])])):d("",!0),s.linkedin_url?(a(),o("span",pe,[...t[16]||(t[16]=[e("span",{class:"material-icons text-[13px]"},"business_center",-1),e("span",null,"LinkedIn",-1)])])):d("",!0),s.twitter_url?(a(),o("span",ue,[...t[17]||(t[17]=[e("span",{class:"material-icons text-[13px]"},"alternate_email",-1),e("span",null,"Twitter",-1)])])):d("",!0),!s.instagram_url&&!s.facebook_url&&!s.linkedin_url&&!s.twitter_url?(a(),o("span",xe," None ")):d("",!0)])]),e("td",me,i(new Date(s.created_at).toLocaleDateString()),1),e("td",be,[e("div",ce,[e("button",{class:"px-2 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-100 flex items-center gap-1",onClick:c=>j(s)},[...t[18]||(t[18]=[e("span",{class:"material-icons text-[12px]"},"edit",-1),e("span",null,"Edit",-1)])],8,ge),e("button",{class:"px-2 py-1 rounded-full bg-red-50 border border-red-100 text-red-600 hover:bg-red-100 flex items-center gap-1",onClick:c=>S(s)},[...t[19]||(t[19]=[e("span",{class:"material-icons text-[12px]"},"delete",-1),e("span",null,"Delete",-1)])],8,fe)])])]))),128)),v.teamMembers.length?d("",!0):(a(),o("tr",ye,[...t[20]||(t[20]=[e("td",{colspan:"7",class:"py-6 text-center text-[11px] text-gray-500"}," No team members found. ",-1)])]))])])])]),u.value||f.value?(a(),o("div",ve,[e("div",_e,[e("h3",he,i(u.value?"Create team member":"Edit team member"),1),t[34]||(t[34]=e("p",{class:"text-[11px] text-gray-500 mb-4"}," Control who appears in the homepage Our Team grid. ",-1)),e("div",ke,[e("div",we,[e("div",null,[t[23]||(t[23]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Name",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(l).name=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,r(l).name]]),r(l).errors.name?(a(),o("p",Ce,i(r(l).errors.name),1)):d("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Title / Role",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r(l).title=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,r(l).title]])])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Short bio",-1)),x(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>r(l).bio=s),rows:"3",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[m,r(l).bio]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Profile photo",-1)),e("div",Me,[e("div",Te,[b.value||r(l).photo_url?(a(),o("img",{key:0,src:b.value||r(l).photo_url,alt:"Preview",class:"h-full w-full object-cover"},null,8,Ue)):(a(),o("span",je,"No photo"))]),e("label",De,[t[26]||(t[26]=e("span",{class:"material-icons text-[14px]"},"upload",-1)),t[27]||(t[27]=e("span",null,"Upload photo",-1)),e("input",{type:"file",accept:"image/*",class:"hidden",onChange:F},null,32)])]),t[29]||(t[29]=e("p",{class:"mt-1 text-[10px] text-gray-400"},"Square image works best. Max 4MB.",-1)),r(l).errors.photo?(a(),o("p",Se,i(r(l).errors.photo),1)):d("",!0)]),e("div",Ve,[e("div",null,[t[30]||(t[30]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Instagram URL",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r(l).instagram_url=s),type:"url",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500",placeholder:"https://instagram.com/..."},null,512),[[m,r(l).instagram_url]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Facebook URL",-1)),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r(l).facebook_url=s),type:"url",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500",placeholder:"https://facebook.com/..."},null,512),[[m,r(l).facebook_url]])])]),e("div",Fe,[e("div",null,[t[32]||(t[32]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"LinkedIn URL",-1)),x(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r(l).linkedin_url=s),type:"url",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500",placeholder:"https://linkedin.com/in/..."},null,512),[[m,r(l).linkedin_url]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block mb-1 text-gray-700 text-[11px]"},"Twitter URL",-1)),x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r(l).twitter_url=s),type:"url",class:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-xs focus:border-emerald-500 focus:ring-emerald-500",placeholder:"https://twitter.com/..."},null,512),[[m,r(l).twitter_url]])])])]),e("div",Ne,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[7]||(t[7]=s=>u.value?u.value=!1:f.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 flex items-center gap-2",type:"button",disabled:r(l).processing,onClick:t[8]||(t[8]=s=>u.value?U():D())},[r(l).processing?(a(),o("span",Re)):d("",!0),e("span",null,i(u.value?"Create member":"Save changes"),1)],8,Le)])])])):d("",!0),y.value&&p.value?(a(),o("div",Oe,[e("div",Pe,[t[38]||(t[38]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Delete team member",-1)),e("p",$e,[t[35]||(t[35]=C(" Are you sure you want to permanently delete ",-1)),e("span",Ae,i(p.value.name),1),t[36]||(t[36]=C("? This action cannot be undone. ",-1))]),e("div",Be,[e("button",{class:"px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100",type:"button",onClick:t[9]||(t[9]=s=>y.value=!1)}," Cancel "),e("button",{class:"px-3 py-1.5 rounded-full bg-red-600 text-white text-xs font-semibold hover:bg-red-700 flex items-center gap-2",type:"button",disabled:r(_).processing,onClick:V},[r(_).processing?(a(),o("span",Ie)):d("",!0),t[37]||(t[37]=e("span",null,"Delete",-1))],8,Ee)])])])):d("",!0)])]),_:1})],64))}};export{Je as default};

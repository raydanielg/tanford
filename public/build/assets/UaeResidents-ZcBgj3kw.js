import{_ as g}from"./AuthenticatedLayout-B2_JwzKP.js";import{r as b,d as f,p as h,w as v,a as _,f as t,e as k,h as w,n as C,t as o,c as d,j as S,o as n,F as E,l as j,s as A,x as N}from"./app-C5zCiTUF.js";import"./ApplicationLogo-B1zVrT9T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"space-y-6"},R={class:"bg-white rounded-2xl border border-gray-100 p-5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},$={class:"text-[11px] text-gray-500"},U={class:"font-semibold text-emerald-700"},B={class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs overflow-x-auto"},D={class:"flex items-center justify-between mb-3"},F={class:"flex items-center gap-2"},V=["disabled"],L=["disabled"],z={class:"min-w-full text-left"},I={class:"border-b border-gray-100 text-[11px] text-gray-500"},J={class:"py-2 px-3 font-medium w-8"},T=["checked"],W={class:"py-2 px-3 text-[11px] text-gray-700"},q=["value","checked","onChange"],G={class:"py-2 px-3 text-[11px] text-gray-900"},H={class:"py-2 px-3 text-[11px] text-emerald-700"},K={class:"py-2 px-3 text-[11px] text-gray-700"},M={class:"py-2 px-3 text-[11px] text-gray-700"},O={class:"py-2 px-3 text-[11px] text-gray-700"},Q={class:"py-2 px-3 text-[11px] text-gray-700"},X={class:"py-2 px-3 text-[11px] text-gray-700"},Y={class:"py-2 px-3 text-[11px] text-emerald-700 truncate max-w-[140px]"},Z=["href"],tt={key:1},et={class:"py-2 px-3 text-[11px] text-gray-700"},st={class:"py-2 px-3 text-[11px] text-gray-700"},ot={class:"py-2 px-3 text-[11px] text-gray-700"},lt={class:"py-2 px-3 text-[11px]"},at={class:"py-2 px-3 text-[11px] text-gray-500"},rt={class:"py-2 px-3 text-[11px] text-right"},nt={class:"flex gap-1 justify-end"},dt=["disabled","onClick"],pt=["disabled","onClick"],it={key:0},mt={__name:"UaeResidents",props:{residents:{type:Array,default:()=>[]}},setup(y){const r=y,i=(a,e)=>{!e||a.status===e||N.post(route("admin.uae-residents.update-status",a.id),{status:e},{preserveScroll:!0,preserveState:!0})},l=b([]),x=f(()=>r.residents.length?l.value.length===r.residents.length:!1),c=()=>{x.value?l.value=[]:l.value=r.residents.map(a=>a.id)},m=a=>{l.value.includes(a)?l.value=l.value.filter(e=>e!==a):l.value.push(a)},u=a=>{if(!l.value.length)return;const e=new URLSearchParams;l.value.forEach(p=>e.append("ids[]",p)),e.append("format",a);const s=route("admin.uae-residents.export")+"?"+e.toString();window.location.href=s};return(a,e)=>(n(),h(g,null,{default:v(()=>[_(k(w),{title:"UAE Resident registrations"}),t("div",P,[t("div",R,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-lg font-semibold text-gray-900"},"UAE Residents"),t("p",{class:"text-[11px] text-gray-500 mt-1"}," Submissions from the UAE residents diaspora registration form. ")],-1)),t("div",$,[t("span",U,o(r.residents.length),1),e[2]||(e[2]=C(" registrations ",-1))])]),t("div",B,[t("div",D,[e[6]||(e[6]=t("p",{class:"text-[11px] text-gray-500"}," Select residents then export as PDF or Excel. ",-1)),t("div",F,[t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1.5 text-[11px] font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-default",disabled:!l.value.length,onClick:e[0]||(e[0]=s=>u("excel"))},[...e[4]||(e[4]=[t("span",{class:"material-icons text-[14px] text-emerald-600"},"grid_on",-1),t("span",null,"Export Excel",-1)])],8,V),t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1.5 text-[11px] font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-default",disabled:!l.value.length,onClick:e[1]||(e[1]=s=>u("pdf"))},[...e[5]||(e[5]=[t("span",{class:"material-icons text-[14px] text-rose-500"},"picture_as_pdf",-1),t("span",null,"Export PDF",-1)])],8,L)])]),t("table",z,[t("thead",null,[t("tr",I,[t("th",J,[t("input",{type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-emerald-600",checked:x.value,onChange:c},null,40,T)]),e[7]||(e[7]=t("th",{class:"py-2 px-3 font-medium"},"Name",-1)),e[8]||(e[8]=t("th",{class:"py-2 px-3 font-medium"},"Email",-1)),e[9]||(e[9]=t("th",{class:"py-2 px-3 font-medium"},"Phone",-1)),e[10]||(e[10]=t("th",{class:"py-2 px-3 font-medium"},"City",-1)),e[11]||(e[11]=t("th",{class:"py-2 px-3 font-medium"},"Country",-1)),e[12]||(e[12]=t("th",{class:"py-2 px-3 font-medium"},"Nationality",-1)),e[13]||(e[13]=t("th",{class:"py-2 px-3 font-medium"},"Job title",-1)),e[14]||(e[14]=t("th",{class:"py-2 px-3 font-medium"},"Website",-1)),e[15]||(e[15]=t("th",{class:"py-2 px-3 font-medium"},"Attendee type",-1)),e[16]||(e[16]=t("th",{class:"py-2 px-3 font-medium"},"# People",-1)),e[17]||(e[17]=t("th",{class:"py-2 px-3 font-medium"},"Package",-1)),e[18]||(e[18]=t("th",{class:"py-2 px-3 font-medium"},"Status",-1)),e[19]||(e[19]=t("th",{class:"py-2 px-3 font-medium"},"Created",-1)),e[20]||(e[20]=t("th",{class:"py-2 px-3 font-medium text-right"},"Actions",-1))])]),t("tbody",null,[(n(!0),d(E,null,j(r.residents,s=>(n(),d("tr",{key:s.id,class:"border-b border-gray-50 hover:bg-gray-50/60"},[t("td",W,[t("input",{type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-emerald-600",value:s.id,checked:l.value.includes(s.id),onChange:p=>m(s.id)},null,40,q)]),t("td",G,o(s.name),1),t("td",H,o(s.email),1),t("td",K,o(s.phone||"-"),1),t("td",M,o(s.city||"-"),1),t("td",O,o(s.country||"-"),1),t("td",Q,o(s.nationality||"-"),1),t("td",X,o(s.job_title||"-"),1),t("td",Y,[s.website?(n(),d("a",{key:0,href:s.website,target:"_blank",class:"hover:underline"},o(s.website),9,Z)):(n(),d("span",tt,"-"))]),t("td",et,o(s.attendee_type||"-"),1),t("td",st,o(s.attendee_count??"-"),1),t("td",ot,o(s.package||"-"),1),t("td",lt,[t("span",{class:A(["inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium",{"bg-yellow-100 text-yellow-800":!s.status||s.status==="pending","bg-emerald-100 text-emerald-800":s.status==="approved","bg-rose-100 text-rose-800":s.status==="rejected"}])},o(s.status||"pending"),3)]),t("td",at,o(new Date(s.created_at).toLocaleString()),1),t("td",rt,[t("div",nt,[t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[10px] border border-emerald-200 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 disabled:opacity-60 disabled:cursor-default",disabled:s.status==="approved",onClick:p=>i(s,"approved")},[...e[21]||(e[21]=[t("span",{class:"material-icons text-[13px]"},"check_circle",-1),t("span",null,"Approve",-1)])],8,dt),t("button",{type:"button",class:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[10px] border border-rose-200 text-rose-700 bg-rose-50 hover:bg-rose-100 disabled:opacity-60 disabled:cursor-default",disabled:s.status==="rejected",onClick:p=>i(s,"rejected")},[...e[22]||(e[22]=[t("span",{class:"material-icons text-[13px]"},"cancel",-1),t("span",null,"Reject",-1)])],8,pt)])])]))),128)),r.residents.length?S("",!0):(n(),d("tr",it,[...e[23]||(e[23]=[t("td",{colspan:"15",class:"py-6 text-center text-[11px] text-gray-500"},"No registrations yet.",-1)])]))])])])])]),_:1}))}};export{mt as default};

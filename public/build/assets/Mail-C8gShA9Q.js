import{f as m,q as c,w as v,a as w,b as e,u as s,h as k,i as u,j as r,p,v as a,c as b,k as g,o as i}from"./app-BovbsQit.js";import{_ as S}from"./AuthenticatedLayout-CZ8j7eHd.js";import"./ApplicationLogo-d9U-yT3p.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"space-y-6 max-w-3xl"},V={class:"grid sm:grid-cols-3 gap-4"},M={class:"sm:col-span-1"},U={class:"sm:col-span-2 grid sm:grid-cols-2 gap-4"},E={class:"grid sm:grid-cols-2 gap-4"},P={class:"grid sm:grid-cols-3 gap-4"},C={class:"border-t border-gray-100 pt-4 flex items-center justify-end"},B=["disabled"],F={key:0,class:"inline-flex h-4 w-4 border-2 border-white/40 border-t-white rounded-full animate-spin"},L={class:"bg-white rounded-2xl border border-gray-100 p-5"},N={class:"flex gap-3 items-end"},j={class:"flex-1"},q=["disabled"],H={key:0,class:"inline-flex h-4 w-4 border-2 border-white/40 border-t-white rounded-full animate-spin"},$={__name:"Mail",props:{settings:{type:Object,default:()=>null}},setup(x){const d=x,l=m({mailer:d.settings?.mailer||"smtp",host:d.settings?.host||"",port:d.settings?.port||587,username:d.settings?.username||"",password:"",encryption:d.settings?.encryption||"tls",from_address:d.settings?.from_address||"",from_name:d.settings?.from_name||""}),n=m({test_email:""}),f=()=>{l.post(route("admin.settings.mail.update"),{preserveScroll:!0})},y=()=>{n.post(route("admin.settings.mail.test"),{preserveScroll:!0,onSuccess:()=>{n.reset()}})};return(A,t)=>(i(),c(S,null,{default:v(()=>[w(s(k),{title:"SMTP & email settings"}),e("div",T,[t[26]||(t[26]=e("div",{class:"bg-white rounded-2xl border border-gray-100 p-5"},[e("h1",{class:"text-lg font-semibold text-gray-900"},"SMTP & email"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Configure how the application sends emails.")],-1)),e("form",{onSubmit:u(f,["prevent"]),class:"bg-white rounded-2xl border border-gray-100 p-5 text-xs space-y-6"},[e("div",V,[e("div",M,[t[10]||(t[10]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Mailer",-1)),r(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(l).mailer=o),class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500"},[...t[9]||(t[9]=[e("option",{value:"smtp"},"SMTP",-1),e("option",{value:"sendmail"},"Sendmail",-1),e("option",{value:"log"},"Log (development)",-1)])],512),[[p,s(l).mailer]])]),e("div",U,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Host",-1)),r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(l).host=o),type:"text",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500",placeholder:"smtp.mailtrap.io"},null,512),[[a,s(l).host]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Port",-1)),r(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(l).port=o),type:"number",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500",placeholder:"587"},null,512),[[a,s(l).port,void 0,{number:!0}]])])])]),e("div",E,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Username",-1)),r(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(l).username=o),type:"text",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500"},null,512),[[a,s(l).username]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Password",-1)),r(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(l).password=o),type:"password",autocomplete:"new-password",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500",placeholder:"••••••••"},null,512),[[a,s(l).password]]),t[15]||(t[15]=e("p",{class:"mt-1 text-[10px] text-gray-400"},"Leave blank to keep existing password.",-1))])]),e("div",P,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Encryption",-1)),r(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(l).encryption=o),class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500"},[...t[16]||(t[16]=[e("option",{value:"tls"},"TLS",-1),e("option",{value:"ssl"},"SSL",-1),e("option",{value:"none"},"None",-1)])],512),[[p,s(l).encryption]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"From address",-1)),r(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s(l).from_address=o),type:"email",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500",placeholder:"no-reply@example.com"},null,512),[[a,s(l).from_address]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"From name",-1)),r(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s(l).from_name=o),type:"text",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Tanford"},null,512),[[a,s(l).from_name]])])]),e("div",C,[e("button",{type:"submit",class:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-1.5 text-[11px] font-semibold text-white hover:bg-emerald-700 disabled:bg-emerald-400 disabled:cursor-not-allowed",disabled:s(l).processing},[s(l).processing?(i(),b("span",F)):g("",!0),t[20]||(t[20]=e("span",null,"Save changes",-1))],8,B)])],32),e("div",L,[t[25]||(t[25]=e("div",{class:"mb-4"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Test Email Configuration"),e("p",{class:"text-[11px] text-gray-500 mt-1"},"Send a test email to verify your SMTP settings are working correctly.")],-1)),e("form",{onSubmit:u(y,["prevent"]),class:"space-y-4"},[e("div",N,[e("div",j,[t[21]||(t[21]=e("label",{class:"block text-[11px] font-medium text-gray-700 mb-1"},"Recipient Email Address",-1)),r(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s(n).test_email=o),type:"email",required:"",class:"w-full rounded-lg border-gray-300 text-[12px] focus:ring-emerald-500 focus:border-emerald-500",placeholder:"your-email@example.com"},null,512),[[a,s(n).test_email]])]),e("button",{type:"submit",class:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-[11px] font-semibold text-white hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",disabled:s(n).processing},[s(n).processing?(i(),b("span",H)):g("",!0),t[22]||(t[22]=e("span",{class:"material-icons text-sm"},"send",-1)),t[23]||(t[23]=e("span",null,"Send Test Email",-1))],8,q)]),t[24]||(t[24]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3"},[e("div",{class:"flex gap-2"},[e("span",{class:"material-icons text-blue-600 text-base"},"info"),e("div",{class:"text-[11px] text-blue-800"},[e("p",{class:"font-medium mb-1"},"How to test:"),e("ol",{class:"list-decimal list-inside space-y-1"},[e("li",null,"Enter your email address above"),e("li",null,'Click "Send Test Email"'),e("li",null,"Check your inbox for the test message"),e("li",null,"If you don't receive it, check your spam folder or verify your SMTP settings")])])])],-1))],32)])])]),_:1}))}};export{$ as default};
